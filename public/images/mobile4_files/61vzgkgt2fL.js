(function(y){var t=window.AmazonUIPageJS||window.P,ra=t._namespace||t.attributeErrors,h=ra?ra("DetailPageImageBlockAssets",""):t;h.guardFatal?h.guardFatal(y)(h,window):h.execute(function(){y(h,window)})})(function(y,t,ra){y.register("postMetric",function(){return{postCountMetric:function(h){if("undefined"!==typeof h){var a=t.ue;if(a){var e=a.count(h)||0;a.count(h,e+1)}}},postTimeMetric:function(h,a){if("undefined"!==typeof h&&"undefined"!==typeof a){var e=t.ue;e&&e.count(h,a)}}}});"use strict";y.register("logFailedInteractionMetric",
function(){return{isEnabled:!1}});y.register("postEarlyMetric",function(){return null});"use strict";y.when("jQuery","ImageBlockController","ImageBlockATF","ImageBlockBTF").register("ImageBlock",function(h,a,e,m){h=h.extend(!0,{},e,m);var q=new a(h);y.register("ImageBlockAPI",function(){return q.api});return q});"use strict";y.when("A","jQuery").execute(function(h,a){h.on("a:image:load:landingImage",function(){t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPLandingImageHighResDownloadTime",
performance.now())});h.loadDynamicImage(a("#landingImage"))});"use strict";y.when("ImageBlockATF","atf").register("ImageBlockAiryLoader",function(h){function a(a){a&&(y.load.js(a),t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPAiryDownloadStartTime",t.parseInt(performance.now())))}function e(a){a&&y.load.css(a)}var m=h.airyConfig;void 0===m?y.when("ImageBlockBTF").execute(function(h){m=h.airyConfig;a(m.jsUrl);e(m.cssUrl)}):(a(m.jsUrl),e(m.cssUrl))});"use strict";y.when("jQuery","ImageBlockModel",
"ImageBlockView","imageBlockUtils","ImageBlockState").register("ImageBlockController",function(h,a,e,m,q){var b={};return function(r){var g=this;g.dispatch=function(a,e){var g=b[a];m.isDefined(g)&&h.each(g,function(a,b){b.call(t,e)})};g.register=function(a,e){m.isDefined(b[a])||(b[a]=[]);"function"===typeof e&&b[a].push(e)};g.model=new a(r,g);g.view=new e(r,g,g.model);g.api=new q(r,g,g.model);g.init=function(){g.model.init();g.view.init()};g.init()}});"use strict";y.when("A","imageBlockUtils").register("ImageBlockModel",
function(h,a){function e(e,b,g,h,r){a.isDefined(e)&&(B.type=e);a.isDefined(b)&&(B.index=b);a.isDefined(g)&&(B.thumbnailIndex=g);a.isDefined(h)&&(B.variant=h);a.isDefined(r)&&(B.color=r)}function m(a){e("image",0,0,"MAIN",a||g.landingAsinColor||g.defaultColor)}function q(a){a=a.data;C=h.copy(B);e(a.type,a.index,a.thumbnailIndex,a.variant,a.color)}function b(a){q(a);a=h.copy(a);a.data=h.copy(B);n.dispatch("updateView",a)}function r(){C=h.copy(B);m(B.color)}var g,n,B={},C={},I,t;return function(a,e){n=
e;g=a;n.register("updateSelection",b);n.register("updateModel",q);n.register("resetModel",r);this.init=function(){m()};this.getCurrentItem=function(){return h.copy(B)};this.getPreviousItem=function(){return h.copy(C)};this.setCurrentEvent=function(a){I=a};this.getCurrentEvent=function(){return I};this.setImmersiveViewModalInstance=function(a){t=a};this.getImmersiveViewModalInstance=function(){return t};this.updateTitle=function(a){g.title=a}}});"use strict";y.when("ImageBlockBTF","postMetric").execute(function(h,
a){function e(a,e,r,g,m){function B(a){"click"===a.type&&g.postCountMetric("thumbClick");"click"===a.type&&k.overrideAltImageClickAction?p.dispatch("thumbActionClick",a):p.dispatch("updateSelection",a)}function C(a){k.useClickZoom||p.dispatch("imageClick",a)}function I(a){k.useClickZoom||p.dispatch("imageHover",a)}function O(a){p.dispatch("button360Click",a)}function x(d){!r.isDefined(d)||"swatchClick"!==d.type&&"updatedData"!==d.type?(l.update(d),"swatchHover"!==d.type&&w.getPreviousItem().thumbnailIndex!==
d.data.thumbnailIndex&&g.postCountMetric(d.data.type+"ThumbnailSelected"),a.trigger("image-block-thumbnail-selected",d.data)):(l.render(d.data.color,!1,d.onload),d={hasComponents:!0,components:[{name:"mainimage"},{name:"thumbnail"}]},"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",d))}function H(a){p.dispatch("resize",a)}function M(a){r.selectThumbnail(a,E)}function N(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,
components:[{name:"mainimage",events:["click"],alwaysInteractive:!0}]})}function J(){"function"===typeof t.markFeatureInteractive&&t.markFeatureInteractive("imageblock",{hasComponents:!0,components:[{name:"mainimage",events:["hover"],alwaysInteractive:!0},{name:"thumbnail",events:["click","hover"],alwaysInteractive:!0}]});1===h.useIV?y.when("a-modal").execute(function(){N()}):N();k.disableHoverOnAltImages||a.declarative("thumb-action",["mouseenter","mouseleave"],B);a.declarative("thumb-action",["click"],
B);a.declarative("main-image-click",["click"],C);a.declarative("main-image-click",["mouseenter","mouseleave"],I);a.declarative("button-360-click",["click"],O);a.on("resize",H)}function f(a){var c=a.data,e;c&&"ingress"!==c.type&&"click"===a.type&&(e=a);return e}function z(a){var c=w.getCurrentItem(),e={type:"click"};e.$declarativeParent=a;e.data=c;return e}var l,k,p,w,E;return function(a,c,G){l=this;k=a;p=c;w=G;E=e("#imageBlock #altImages ul");var g=e("#imageBlock .canvas"),h=e("#main-image-container"),
r;l.subViews=[];for(c=0;c<m.length;c++)l.subViews.push(new m[c](a,G,l,p));l.render=function(a,c,d){var f=0;E.find(".item").remove();a=a||w.getCurrentItem().color;e.each(l.subViews,function(e,b){f=b.render(a,f,g,E,h,c,d)||f});var p=E.find(".a-button-selected").closest(".a-declarative");r=z(p)};l.init=function(){E=e("#imageBlock #altImages ul");var a=E.find(".a-button-selected").closest(".a-declarative"),c=a.data("action"),a=a.data(c)||{};a.color=k.landingAsinColor||k.defaultColor;p.dispatch("updateModel",
{data:a});l.render(a.color,!0);k.isDebug&&t.console&&console.log(k);p.register("updateView",x);p.register("selectThumbnail",M);J()};l.update=function(a){e.each(l.subViews,function(c,e){e.update(a)});k.usePeekHover&&("mouseleave"===a.type?p.dispatch("updateSelection",r):"click"===a.type&&(r=f(a)||r))}}}var m=["A","jQuery","imageBlockUtils","postMetric"].concat(h.views);y.when.apply(y,m).register("ImageBlockView",function(){for(var a=arguments[0],b=arguments[1],h=arguments[2],g=arguments[3],m=[],B=
4,C=arguments.length;B<C;B++)m.push(arguments[B]);return e(a,b,h,g,m)})});"use strict";y.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockAltImageView",function(h,a,e,m,q,b,r){function g(c,d,f,b){if(!e.isjQueryObjDefined(c.find(".a-button-selected"))){var k=w.getCurrentItem();if(!b||"chromeless-video"!==k.type||!p.autoplayVideo){b=0;"image"===k.type&&(b=Math.max(C(k.color,k.variant),0));var l=d+b;l>=f&&(b=0,l=d);
d=e.getImageHash(k.color,b,p);-1!==d&&(E.dispatch("updateModel",{data:{index:b,thumbnailIndex:l,variant:d.variant,type:"image"}}),d=c.find(".item").get(l),e.selectGivenThumbnail(a(d),c))}}}function n(c,f,k){f=p.colorImages&&p.colorImages[f];var l=c;e.isDefined(f)&&(a.each(f,function(a,f){c<p.maxAlts&&(e.createThumbnail({type:"image",index:a,thumbnailIndex:c,variant:f.variant},f.thumb,d,"imageThumbnail"),c++)}),b.isEnabled&&r.logAltImgRequestPlacedOnThumbnails(a,b,w),g(d,l,c,k));return c}function B(c,
e){if("image"===c.type){var d=a("#image-canvas-caption #canvasCaption"),f,b=p.staticStrings,k=p.colorImages,l=c.color,g=c.index;e&&p.useIV?f=b.clickToExpand:k[l]&&k[l][g].hiRes&&p.useHoverZoom?(f=p.useHoverZoomIpad?b.touchToZoom:p.useClickZoom?b.clickToZoom:b.rollOverToZoom,p.hoverZoomIndicator&&(f="\x3cimg src\x3d'"+p.staticImages.hoverZoomIcon+"'/\x3e\x26nbsp;"+f)):p.useIV&&(f=b.clickToExpand);d.html(f)}}function C(a,c){return e.getIndexForVariant(a,c,p)}function I(c,d){var f="a-dynamic-image";
if(!p.acEnabled){var b;a.each(c.main,function(a,c){e.isDefined(b)||(b=parseFloat(c[1]/c[0])<=parseFloat(p.holderRatio)?" a-stretch-vertical":" a-stretch-horizontal")});f+=b}var k=e.getMaxDimensionsOfMainImage(c.main,G,p),l=k[0],g=k[1],k=a("\x3cdiv\x3e\x3c/div\x3e"),l={"max-height":l,"max-width":g};k.addClass(f).css(l).attr({"data-old-hires":c.hiRes,"data-a-manual-replacement":"true",onload:d}).data("a-dynamic-image",c.main);return k}function t(a){var e=c.find(".swatchHoverExp");a=I(a);e.find(".imgTagWrapper").html(a);
h.loadImageManually(a);return e}function x(a){var c=G.css("height");null!==c&&a.find(".imgTagWrapper").css("height",c);a.addClass("selected");p.imgTagWrapperClasses&&a.find(".imgTagWrapper").addClass(p.imgTagWrapperClasses)}function H(a,d){if("image"===a.type||"unavailable"===a.type||"lazy-loaded"===a.type){e.isDefined(d)&&q.postCountMetric("mainImageUpdateOnTwisterVariationClick");var f=e.getImageHash(a.color,a.index,p);if(-1===f)return f={data:{index:0,thumbnailIndex:0,variant:"",type:"unavailable"}},
e.lazyLoadingRequired(a,w,p)?J(a,!1,d):(E.dispatch("updateModel",f),e.showUnavailable(a.color)),-1;var k=c.find(".item.itemNo"+a.thumbnailIndex);if(!e.isjQueryObjDefined(k)){var k=a.thumbnailIndex,k=c.find(".mainImageTemplate").clone().removeClass("template mainImageTemplate").addClass("image item itemNo"+k+" maintain-height"),l=I(f,d);k.find(".placeHolder").replaceWith(l);c.find(".list").append(k);h.loadImageManually(l)}x(k);E.dispatch("loadMagnifier");B(a);p.useIV&&e.isDefined(f.hiRes)&&k.css("cursor",
"pointer");a.isUserGenerated&&(k=w.getPreviousItem(),l=a.variant,e.isDefined(l)&&k.thumbnailIndex!==a.thumbnailIndex&&(b.isEnabled&&r.logAltImgRequestServed(b),q.postCountMetric("ImageThumbnailSelectedVariant:"+l),0===l.indexOf("IG")&&(q.postCountMetric("IGImageSelectedVariant:"+l),q.postCountMetric("IGImageSelectedEvent:"+a.interaction))));h.trigger("dp:image-block:update",f)}}function M(a){var d=Math.max(C(a.color,w.getCurrentItem().variant),0),d=e.getImageHash(a.color,d,p);if(-1===d)return e.lazyLoadingRequired(a,
w,p)?e.lazyLoadOnHoverEnabled(p)&&(N(".3",!0),e.spinner(c,!0),h.delay(function(){w.getCurrentEvent().data===a&&J(a,!0)},500)):e.showUnavailable(a.color),-1;var f=t(d);q.postCountMetric("mainImageUpdateOnTwisterVariationHover");x(f);h.trigger("dp:image-block:update",d)}function N(e,d){d?c.css("opacity",e):a("#imageBlock").css("opacity",e)}function J(a,d,b){u=d;F=b;var k=a.color,l=p.colorToAsin[k];if(l&&l.asin){var g={};g.params={asin:l.asin,productGroupID:p.productGroupID,color:k};g.success=function(c){c?
(q.postCountMetric("lazyloadImageBlockOnTwisterUpdateSuccess"),e.ajaxState(l.asin,"success"),p.colorImages[k]=c.colorImage,e.isDefined(p.spin360ColorEnabled)&&(p.spin360ColorEnabled[k]=c.enable360),k===a.color&&(d&&u?(q.postCountMetric("lazyloadImageBlockOnTwisterHoverSuccess"),a===w.getCurrentEvent().data&&(f(a),M(a))):(q.postCountMetric("lazyloadImageBlockOnTwisterClickSuccess"),c={type:"updatedData",data:w.getCurrentItem(),onload:b||F},E.dispatch("updateView",c))),y.register(e.rankedImagesReadyEvent(l.asin))):
(q.postCountMetric("lazyloadImageBlockOnTwisterUpdateFail"),e.ajaxState(l.asin,"fail"))};g.error=function(){q.postCountMetric("lazyloadImageBlockOnTwisterUpdateFail");e.ajaxState(l.asin,"fail")};g.indicator=e.spinner(c);e.ajaxState(l.asin,void 0)&&"fail"!==e.ajaxState(l.asin,void 0)||(d?q.postCountMetric("lazyloadImageBlockOnTwisterHover"):q.postCountMetric("lazyloadImageBlockOnTwisterClick"),N(".3",d),m.load("/gp/product/features/apparel-main-image/ranked-images.html",g),e.ajaxState(l.asin,"sent"));
return p.colorImages&&p.colorImages[k]}}function f(d,f){e.lazyLoadingRequired(d,w,p)||(a("#imageBlock").css("opacity","1"),c.css("opacity","1"),e.spinner(c,!1),c.find("li").removeClass("selected"),a("#image-canvas-caption #canvasCaption").empty(),e.hideUnavailable(),f&&c.find(".list .item").remove())}function z(){var d=c.find(".item .imgTagWrapper"),f=e.getContainerHeight(G,p.holderRatio,p.holderMaxHeight);0<f&&(G.height(f),d.height(f));c.find("img.a-dynamic-image").each(function(){var c=a(this);
c.data("a-manual-replacement")&&h.loadDynamicImage(this);var d=c.data("a-dynamic-image"),d=e.getMaxDimensionsOfMainImage(d,G,p);c.css({"max-height":d[0]+"px","max-width":d[1]+"px"})})}function l(a){B(w.getCurrentItem(),"mouseenter"===a.type)}var k,p,w,E,d,c,G,u,F,A;return function(a,b,g,h){k=this;p=a;w=b;E=h;p.colorImages[p.landingAsinColor]=p.colorImages[p.defaultColor];k.render=function(a,k,b,l,g,h,z){c=b;d=l;G=g;A=n(k,a,h);h||(a=w.getCurrentItem(),e.lazyLoadingRequired(a,w,p)&&E.dispatch("updateModel",
{data:{type:"lazy-loaded"}}));f(w.getCurrentItem(),!h);H(w.getCurrentItem(),z);return A};k.update=function(a){var c=a.data;w.setCurrentEvent(a);"ingress"!==c.type&&f(a.data,!1);"swatchHover"===a.type?c.color===w.getCurrentItem().color?H(w.getCurrentItem()):a.captured||-1===M(c)||(a.captured=!0):"image"===c.type&&(c.interaction=a.type,c.isUserGenerated=!0,"mouseenter"===a.type&&q.postCountMetric("dpcc_imageThumbHovered_"+(c.thumbnailIndex+1)+"_"+A),H(c),p.usePeekHover&&"click"!==a.type||(e.selectGivenThumbnail(a.$declarativeParent,
d),"click"===a.type&&(q.postCountMetric("dpcc_imageThumbClicked_total"),q.postCountMetric("dpcc_imageThumbClicked_"+(c.thumbnailIndex+1)+"_"+A))))};p.overrideAltImageClickAction&&e.addTag("clickEnabledOnAltImages");E.register("imageHover",l);E.register("resize",z)}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric").register("ImageBlockMagnifierView",function(h,a,e,m,q,b){function r(a){N?a.css("cursor","url('"+I.staticImages.zoomIn+"'), auto"):
(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in"))}function g(a){var f=a.match(/\._((\w|,|\.)+)_\.(gif|jpg|png)$/i);a={};if(e.isDefined(f))for(var f=f[1].split("_"),b=0;b<f.length;b++){var l=f[b].match(/^([A-Z]+)(\d+(\.\d+)?)$/);e.isDefined(l)&&(a[l[1]]=parseInt(l[2],10))}return a}function n(n,f){function z(){var a;f.useClickZoom?(a=f.offsetInClickZoom,a=[Math.min(1,Math.max(0,B[0]-(x[0]+a))/(x[2]-2*a)),Math.min(1,Math.max(0,B[1]-(x[1]+a))/(x[3]-2*a))]):a=
A&&A.updatePosition();if(a&&F&&F.detailSize){var c=[F.detailSize[0]-F.rect.width,F.detailSize[1]-F.rect.height];h.capabilities.rtl?F.detailImage.get(0).style.right=-(a[0]*c[0])+"px":F.detailImage.get(0).style.left=-(a[0]*c[0])+"px";F.detailImage.get(0).style.top=-(a[1]*c[1])+"px"}}function l(a){return a.offsetParent().hasClass("a-dynamic-image-container")}function k(c){var d=W?c.originalEvent.touches[0]||c.originalEvent.changedTouches[0]:"";B=W?[d.pageX,d.pageY]:[c.pageX,c.pageY];if(h.capabilities.rtl){var e=
a(t).width();B=W?[e-d.pageX,d.pageY]:[e-c.pageX,c.pageY]}}function p(a){W&&a.preventDefault();k(a);f.useClickZoom?a=[x[0],x[1],x[0]+x[2],x[1]+x[3]]:(a=A?A.offset:n.offsetParent().offset(),a=I.acEnabled?[a.left,a.top,G.width()+a.left,G.height()+a.top]:[C[0]+a.left,C[1]+a.top,C[0]+C[2]+a.left,C[1]+C[3]+a.top]);B[0]<a[0]||B[1]<a[1]||B[0]>=a[2]||B[1]>=a[3]||I.acEnabled&&!l(n)?(f.fadeMagnifier?M||(M=!0,ba=setTimeout(function(){w(!0)},500)):f.useClickZoom||w(),D&&(D=!1,clearTimeout(V))):(D||(D=!0,V=setTimeout(function(){m.postCountMetric("dppc_hoverZoomOpened");
q.isEnabled&&b.logHoverZoomRequestServed(q)},1E3)),f.fadeMagnifier&&M&&(M=!1,clearTimeout(ba)),z())}function w(e){e&&c.suppressMagnifier(!0);if(S&&(F&&F.hide(),A&&(A.destroy(),A=null),S=!1,W?(n.unbind("touchmove.magnifier touchstart.magnifier touchend.magnifier"),a(document).trigger("disengaged.magnifier")):a(document).unbind("mousemove.magnifier").trigger("disengaged.magnifier"),d(),e))n.one("click.magnifier touchstart.magnifier",function(a){E(a,!0)})}function E(d,e){e&&c.suppressMagnifier(!1);if(!S&&
!fa&&(0===Y&&(m.postCountMetric("dppc_hoverTime",new Date-(t.ue&&t.ue.t0||0)),Y=1),H[U]||(m.postCountMetric("dppc_hoverMain"),H[U]=1),C=[n.position().left,n.position().top,n.width(),n.height()],U&&(k(d),F?F.refit().show():F=new O,f.useClickZoom||(A=A||new y),x=F.getWindowSize(),z()),S=!0,W?(n.unbind("touchstart.magnifier touchmove.magnifier").bind("touchmove.magnifier",p).bind("touchend.magnifier",w),a(document).trigger("engaged.magnifier")):(I.acEnabled?G.unbind("mousemove.magnifier"):n.unbind("mousemove.magnifier"),
a(document).trigger("engaged.magnifier").bind("mousemove.magnifier",p)),e)){var b=a("#zoomWindow");if(0<b.length)b.one("click.magnifier touchend.magnifier",function(a){w(!0)})}}function d(){f.useHoverZoom&&(W?n.bind("touchstart.magnifier touchmove.magnifier",E):I.acEnabled?l(n)&&G.bind("mousemove.magnifier",E):n.bind("mousemove.magnifier",E))}var c=this,G=n.offsetParent(),u={detailImageUrl:n.attr("data-old-hires"),location:"over",locationElement:n,prelaod:"ready",zIndex:50,offsetInClickZoom:50};f=
a.extend(u,f);f.adjustment=[10,0,-10,0];var F=null,A=null,B=null,C=null,x=null,R={"null":1,"":1,undefined:1},S=!1,fa=!1,U=f.detailImageUrl,W=f.useHoverZoomIpad||0,Y=0,H={},y=function(){function c(a){var d=Math.round(Math.min(n.width(),F.rect.width/a));a=Math.round(Math.min(n.height(),F.rect.height/a));l.css({width:d,height:a});e=[d,a]}var d=this,e=[0,0],b=(F.detailSize&&F.detailSize[0]||5E8)/C[2],k=(F.detailSize&&F.detailSize[1]||5E8)/C[3],b=k>b?k:b;a("#magnifierLens").remove();var l=a("\x3cdiv id\x3d'magnifierLens' /\x3e").css({position:"absolute"});
f.generalImageUrls.zoomLensBackground&&l.css({backgroundImage:"url("+f.generalImageUrls.zoomLensBackground+")"});I.showMagnifierOnHover?r(l):l.css("cursor","pointer");d.updatePosition=function(){var a=[C[2]-e[0],C[3]-e[1]],c=0>=a[0]?.5:Math.max(0,Math.min(1,(B[0]-e[0]/2-C[0]-d.offset.left)/a[0])),f=0>=a[1]?.5:Math.max(0,Math.min(1,(B[1]-e[1]/2-C[1]-d.offset.top)/a[1])),b=C[0]+Math.round(c*a[0]),a=C[1]+Math.round(f*a[1]);l.get(0).style.left=b+"px";l.get(0).style.top=a+"px";return[c,f]};d.destroy=function(){l.remove()};
d.offset=n.offsetParent().offset();c(b);d.updatePosition();l.appendTo(n.parent());F.detailImage[0].complete||F.detailImage.load(function(){var a=F.detailImage.width()/C[2];c(a);d.updatePosition()})};y.preload=function(){c.preload(f.generalImageUrls.lensBackgroundUrl)};var O=function(){function c(){var d={};if("over"===f.location){var d=f.useClickZoom,k={},g=a("#leftCol"),h=a("#centerCol"),G=a("#rightCol"),u=a("#hover-zoom-end"),r=a("#actionPanelContainer"),z=e.isjQueryObjDefined(g)?g.outerHeight():
h.outerHeight();k.top=e.isjQueryObjDefined(g)?g.offset().top:h.offset().top;k.bottom=z+k.top;k.right=e.isjQueryObjDefined(G)?G.offset().left:r.offset().left;k.left=d?0:g.offset().left+g.outerWidth();e.isjQueryObjDefined(u)&&u.offset().top>k.bottom&&(k.bottom=u.offset().top);d=k}else"right"===f.location&&(d=n.offset(),d={left:d.left+n.outerWidth(),top:d.top,right:d.left+n.outerWidth()+400,bottom:d.top+400});f.minHeightElement&&(d.bottom=Math.max(d.bottom,d.top+a(f.minHeightElement).outerHeight()));
d.bottom=Math.min(d.bottom,a(t).scrollTop()+a(t).height());d.left+=l[0];d.top+=l[1];d.right+=l[2];d.bottom+=l[3];d.width=d.right-d.left;d.height=d.bottom-d.top;f.enhancedHoverOverlay&&e.isDefined(t.pageXOffset)&&(k=a(t).width(),d.width=k-d.left+t.pageXOffset-18,d.height-=14);p.css({left:d.left,top:d.top,width:d.width,height:d.height});b.rect=d;return b}function d(a){var c=new Image;b.detailSize=[0,0];c.onload=function(){b.detailSize=[c.width,c.height];z()};c.src=a.attr("src");if(0<c.width&&0<c.height)b.detailSize=
[c.width,c.height];else if(f.detailImageSize)b.detailSize=f.detailImageSize;else{a=g(c.src);var e=C[2]/C[3];a.SS||a.AA?(a=a.SS||a.AA,b.detailSize=[a,a]):a.SX?b.detailSize=[a.SX,Math.round(a.SX/e)]:a.SY?b.detailSize=[Math.round(a.SY*e),a.SY]:a.SL&&(b.detailSize=1<=e?[a.SL,Math.round(a.SL/e)]:[Math.round(a.SL*e),a.SL])}}var b=this,l=f.adjustment;a("#zoomWindow").remove();var k={overflow:"hidden",position:"absolute",backgroundColor:"white",zIndex:f.zIndex};f.enhancedHoverOverlay&&(k.boxShadow="0 6px 8px 2px rgba(0,0,0,.25)",
k.border="1px solid #949494",k.borderColor="rgb(148,148,148)");var p=a("\x3cdiv id\x3d'zoomWindow' /\x3e").css(k);f.fadeMagnifier&&p.fadeIn(200);f.useClickZoom&&(N?p.css("cursor",'url("'+f.zoomOutIcon+'"), auto'):(p.css("cursor","-webkit-zoom-out"),p.css("cursor","-moz-zoom-out"),p.css("cursor","zoom-out")));b.updateImage=function(c){c=a("\x3cimg id\x3d'detailImg' src\x3d'"+c+"'/\x3e").css("position","absolute");b.detailImage&&b.detailImage.remove();p.append(c);a(document).trigger("updated.magnifier");
b.detailImage=c;d(b.detailImage)};b.refit=function(){c();d(b.detailImage);return b};f.fadeMagnifier?(b.show=function(){p.fadeIn(200);return b},b.hide=function(){p.fadeOut(200);return b}):(b.show=function(){p.show();return b},b.hide=function(){p.hide();return b});b.destroy=function(){p.remove();return b};b.getWindowSize=function(){return[b.rect.left,b.rect.top,b.rect.width,b.rect.height]};b.updateImage(U);c();p.appendTo(document.body)},M=!1,ba,D=!1,V;c.preload=function(d){d=a.makeArray(d);for(var e=
d.length,b=0;b<e;b++)d[b]instanceof Array?c.preload(d[b]):"string"===typeof d[b]&&d[b]&&!R[d[b]]&&(R[d[b]]=new Image,R[d[b]].src=d[b])};c.changeImage=function(d,e){S&&w();U=e;n.attr("src",d);c.preload(d);C=[n.position().left,n.position().top,n.width(),n.height()];e&&("immediately"===f.preload?c.preload(e,!0):a(t).ready(function(){c.preload(e)}),F?F.updateImage(e):n.attr("data-old-hires",e))};c.destroy=function(){I.acEnabled?G.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier"):
n.unbind("touchstart touchstart.magnifier touchmove.magnifier mousemove.magnifier");a(document).unbind("mousemove.magnifier");A&&A.destroy();A=null;F&&F.destroy();F=null};c.detailImage=function(){return F.detailImage};c.suppressMagnifier=function(a){fa=a};c.isEngaged=function(){return S};c.engageMagnifier=E;c.disengageMagnifier=w;n[0].complete?d():n.one("load",d);c.preload(n.attr("src"));t.performance&&performance.now&&t.ue&&ue.count&&ue.count("MagnifierImageDownload",performance.now());if(f.preload){var ka=
f.detailImageUrl,u=function(){c.preload(ka,!0);f.useClickZoom||y.preload()},X=f.preload;X.constructor!==Array&&(X=[X]);for(var v=0;v<X.length;v++)if("immediately"===X[v])u();else if(a(t)[X[v]])a(t)[X[v]](u);else a(t).bind(X[v],u)}return c}function B(){if(I.useHoverZoom){var g={adjustment:[0,0,1,1],generalImageUrls:I.staticImages,location:"over",minHeightElement:"#imageBlock",preload:"ready",zIndex:199,useHoverZoomIpad:I.useHoverZoomIpad,useHoverZoom:I.useHoverZoom,useClickZoom:I.useClickZoom,fadeMagnifier:I.fadeMagnifier,
zoomOutIcon:I.staticImages.zoomOutCur,enhancedHoverOverlay:I.enhancedHoverOverlay||I.atfEnhancedHoverOverlay};H&&(H.destroy(),H=void 0);var f=y.find(".image.item.selected img[data-old-hires]").not("[data-old-hires\x3d'']");e.isjQueryObjDefined(f)?I.useClickZoom?(f.one("click.loadmagnifier touchstart.loadmagnifier",function(a){H=new n(f,g);H.engageMagnifier(a,!0)}),N?f.css("cursor",'url("'+I.staticImages.zoomInCur+'"), auto'):(f.css("cursor","-webkit-zoom-in"),f.css("cursor","-moz-zoom-in"),f.css("cursor",
"zoom-in"))):H=new n(f,g):q.isEnabled&&b.logHoverZoomApplicability(a,q)}}var C,I,O,x,H,y,N=navigator.userAgent.match(/msie|trident/i);return function(a,e,b,l){C=this;I=a;O=e;q.refToModel=O;x=l;C.render=function(a,e,b,f,d,c){y=b;H&&(H.destroy(),H=void 0)};C.update=function(a){};x.register("loadMagnifier",B);x.register("resize",B)}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric").register("ImageBlockTwisterView",function(h,a,e,m){function q(a,b,h){a=(a=h?h:e.getColorFromState(b.getState().hovered_variations,
g))&&""!==a?a:g.defaultColor;B.dispatch("updateView",{type:"swatchHover",data:{color:a}});m.postCountMetric("swatchHover")}function b(a,b,h,r){a=(a=r?r:e.getColorFromState(b.getState().selected_variations,g))&&""!==a?a:g.defaultColor;a===n.getCurrentItem().color?"function"===typeof h&&h():(B.dispatch("updateSelection",{type:"swatchClick",data:{color:a},onload:function(){var a={hasComponents:!0,components:[{name:"mainImage"}]};"function"===typeof t.markFeatureRender&&t.markFeatureRender("imageblock",
a);h()}}),m.postCountMetric("swatchClick"))}var r,g,n,B;return function(a,e,m,x){r=this;g=a;n=e;B=x;h.on("image-block-twister-swatch-hover",q);h.on("image-block-twister-swatch-click",b);r.render=function(a,e,b,g,f){};r.update=function(a){}}});"use strict";y.when("A","jQuery","Airy","imageBlockUtils","ImageBlockLoader","postMetric","vse_ns_videoPlayer").register("ImageBlockVideoView",function(h,a,e,m,q,b,r){function g(c,d,e,b){!f.autoplayVideo||P||f.useChromelessVideoPlayer?!m.isjQueryObjDefined(c.find(".a-button-selected"))&&
(e=z.getCurrentItem(),!b||f.prioritizeVideos||"chromeless-video"===e.type&&f.autoplayVideo)&&(b=m.getVideoHash(e.color,0,f),-1!==b&&(d+=0,l.dispatch("updateModel",{data:{index:0,thumbnailIndex:d,variant:b.variant,type:f.useChromelessVideoPlayer?"chromeless-video":"chromeful-video"}}),d=c.find(".item").get(d),m.selectGivenThumbnail(a(d),c))):(m.selectGivenThumbnail(c.find("img:last"),c),m.fadeToThumbnail(c.find("img").length-1,E,c))}function n(a){var c=z.getCurrentItem().color;if(f.useChildVideos&&
!f.colorToVideo[c]){var d=function(){if(a){f.colorToVideo[c]=a;var d={type:"updatedData",data:z.getCurrentItem()};l.dispatch("updateView",d)}};f.lazyLoadExperienceDisabled?d():y.when(m.rankedImagesReadyEvent(f.colorToAsin[c].asin)).execute(function(){d()})}}function B(a){if(!f.useChildVideos)return m.lazyLoadingRequired(z.getCurrentItem(),z,f)?void 0:f.videos;if(f.colorToVideo[a])return f.colorToVideo[a];var c=f.colorToAsin[a];if(c&&c.asin){var d={};d.params={asin:c.asin,productGroupID:f.productGroupID,
useAiryVideoPlayer:!0,useChromelessVideoPlayer:f.useChromelessVideoPlayer,isUDP:f.isUDP};f.isDPXFeatureEnabled||(d.success=function(a){n(a)},q.load("/gp/product/features/apparel-main-image/videos.html",d));return f.colorToVideo&&f.colorToVideo[a]}}function C(){l.dispatch("selectThumbnail",m.useTabbedImmersiveView(f)?1:0)}function I(d,f,k,l){return e.embed({isShowFirstFrameWhenReadyEnabled:!0,parentElement:d[0],streamingUrls:f.url,swfUrl:k.swfUrl,foresterMetadataParams:k.foresterMetadataParams,backgroundColor:"transparent",
flashParams:{wmode:"transparent"},experiments:{supportChromelessPlayback:!0},bindings:{canplay:function(){var a=m.isjQueryObjDefined(d.find("video"))?"HTML5":"FLASH";b.postCountMetric("dppc_chromelessVideo:"+a)},playing:function(){d.parent().css("z-index",8)},videounsupported:function(){C();b.postCountMetric("dppc_chromelessVideo:VIDEO_UNSUPPORTED")},error:function(){C();b.postCountMetric("dppc_chromelessVideo:ERROR")},ended:function(){c.seek(0)}},cuePoints:[{values:f.durationSeconds-1,type:"position",
callback:function(c,e,b){c=b.durationSeconds-b.playheadTimeSeconds;d.parent().css("background-color","white").find(".airy-renderer-container").fadeTo(1E3*c,.1,function(){d.parent().css({"background-color":"transparent","z-index":-1});C();a(this).show().css("opacity",1)})}}]})}function t(e){if("chromeful-video"===e.type||"chromeless-video"===e.type){var b=m.getVideoHash(e.color,e.index,f);if(-1===b)return-1;if("chromeful-video"===e.type){e=E.width()/E.height();var l=parseInt(b.videoWidth,10),g=parseInt(b.videoHeight,
10);m.updateAspectRatio(e,l,g,p);c?(c.show(),m.loadMediaIntoAiry(c,b,G,f.tabletWeb)):c=f.tabletWeb?A:m.createAiryInstanceForChromeful(p,b,G,null,f.autoplayVideo,E,w,k);b:if(m.useTabbedImmersiveView(f)){if(1<m.getVideosCount(z.getCurrentItem().color,f)){if(m.isDefined(d)){w.show();break b}d=a('\x3ca class\x3d"more-videos"\x3e\x3c/a\x3e').attr("href","#").text(f.staticStrings.watchMoreVideos);w.find("#videoCaption").append(d);h.declarative.create(d,"videoIngressClick",u)}m.playVideoInImmersiveView(f,
z.getCurrentItem().color)&&(h.declarative.create(p,"videoIngressClick",u),p.attr&&p.attr("data-ux-click",""),p.children().css("z-index","-1"),p.css("display","inline-block"))}else w.find("#videoCaption").text(f.staticStrings.playVideo),w.show();b=c;f.autoplayVideo&&b&&!P&&(m.toggleVideoCaption(w),b.setVolume(0),b.show(),b.play(),P=!0)}else c?(c.show(),m.loadMediaIntoAiry(c,b,G,f.tabletWeb),c.play(),w.show()):(c=I(p,b,G))&&c.play()}}function x(c,d,e){var l=B(d);d=c;m.isDefined(l)&&0<l.length&&f.alwaysIncludeVideo&&
c===f.maxAlts&&(k.find(".item:last").remove(),c--);m.isDefined(l)&&(a.each(l,function(d,e){if(c<f.maxAlts){var g=f.useChromelessVideoPlayer?"chromeless-video":"chromeful-video",p={type:g,index:d,thumbnailIndex:c,variant:e.variant};u={type:"video-ingress",index:d,thumbnailIndex:c,variant:e.variant};m.useTabbedImmersiveView(f)&&("chromeful-video"===g&&(Q+=" videoBlockIngress  videoBlockDarkIngress",e.thumb=e.thumb.replace("_PKmb-play-button-overlay-thumb","")),f.altsOnLeft||(Q+=" a-align-top"));m.createThumbnail(p,
e.thumb,k,Q);if(2===f.dp60VideoPosition){var h=k,p=f.dp60VideoPosition;if(0!==p){var G=h.children(".imageThumbnail"),h=h.children(".videoBlockIngress");G&&h&&G[p-1]&&a(G[p-1]).before(h[0])}}m.useTabbedImmersiveView(f)&&(H(k.find(".videoBlockIngress img"),f.videoIngressATFSlateThumbURL),p=1<l.length?"multiple-videos":"one-video",(G=1<l.length?l.length+" "+f.staticStrings.multipleVideos:f.staticStrings.singleVideo)&&k.find(".videoBlockIngress").append(k.find("#videoCount_template").clone().text(G).attr("id",
"videoCount")).addClass(p));K||(K=!0,b.postCountMetric("chromeless-video"===g?"dppc_chromelessVideoAvailable":"dppc_chromefulVideoAvailable"));c++}if(m.useTabbedImmersiveView(f))return!1}),g(k,d,c,e));return c}function H(a,c){var d=a.attr("src");if(d&&c){a.attr("src",c);var e=new Image;e.onload=function(c){a.attr("src",d)};e.src=d}}function M(a){c&&c.pause();a.data=u;a.clickTimeStamp=a.$event.timeStamp;var d="a"===a.targetTag?"dpcc_videoIngressLink":"dpcc_videoIngressSlate";l.dispatch("imageClick",
a);b.postTimeMetric("dpcc_vse_videoingressclick",a.$event.timeStamp);b.postCountMetric(d)}function N(a){A=a.airy;A.hide=function(){A.pause();h.$("#main-video-container").find(".vse-player-container").hide()};A.show=function(){h.$("#main-video-container").find(".vse-player-container").show();A.play()};A.getMediaSourceInfo=function(){return m.getMediaSourceInfo()}}var J,f,z,l,k,p,w,E,d,c,G,u,F,A,K=!1,P=!1,Q="videoThumbnail";return function(d,e,g,q){J=this;f=d;z=e;l=q;G=f.airyConfig;f.colorToVideo={};
f.colorToVideo[f.landingAsinColor]=f.colorToVideo[f.defaultColor]=f.videos;J.render=function(c,d,e,b,l,g){k=b;p=l.find("#main-video-container");w=p.parent().find("#video-canvas-caption");E=a("#main-image-container");f.useChromelessVideoPlayer||p.addClass("chromeful-container");F=x(d,c,g);t(z.getCurrentItem());m.useTabbedImmersiveView(f)&&h.declarative("videoIngressClick",["click"],M);c=z.getCurrentItem().color;d=m.getVideoHash(c,0,f);-1!==d&&f.tabletWeb&&(c=m.getNilgiriServiceAjaxRequest(f,c,d),r.get(h,
"#main-video-container",c,function(){h.$("#main-video-container").find(".vse-player-container").hide()},function(){h.$("#imageBlock #altImages ul").find("li.videoThumbnail").hide()}));return F};J.update=function(a){var d=a.data;"ingress"!==d.type&&c&&(c.hide(),p.parent().css("z-index",-1),w.hide());if("swatchHover"===a.type)d.color===z.getCurrentItem().color?t(z.getCurrentItem()):a.captured||m.lazyLoadingRequired(d,z,f)&&!m.lazyLoadOnHoverEnabled(f)&&t(z.getCurrentItem());else if("chromeful-video"===
d.type||"chromeless-video"===d.type)"mouseenter"===a.type&&b.postCountMetric("dpcc_videoThumbHovered_"+(d.thumbnailIndex+1)+"_"+F),t(d),f.usePeekHover&&"click"!==a.type||(m.selectGivenThumbnail(a.$declarativeParent,k),"click"===a.type&&m.useTabbedImmersiveView(f)&&(b.postCountMetric("dpcc_videoThumbClicked_"+(d.thumbnailIndex+1)+"_"+F),u.action="videoIngressClick",u.clickTimeStamp=a.$event.timeStamp,u.$event=a.$event,u.$currentTarget=a.$currentTarget,l.dispatch("videoIngressClick",u),b.postTimeMetric("dpcc_vse_videoingressclick",
a.$event.timeStamp)))};if(f.isDPXFeatureEnabled)h.on("triggerVideoAjax",n);h.on("vseAiry",N)}});"use strict";y.when("A","jQuery","imageBlockUtils","ImageBlockLoader","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView",function(h,a,e,m,q,b,r,g){function n(a){return a.hiRes||a.large||a.main[a.main.length-1]}function B(){v.find("#ivTitle").click(function(){X.hide()})}function C(){L=Oa?{type:"360-spin"}:V.getCurrentItem()}function I(){var a=
v.find("#ivStage"),d=X.$container.find(".a-popover-wrapper"),c=d.find(".a-popover-inner"),d=d.height()-g.getDimension(c,"padding-top")-g.getDimension(c,"padding-bottom");v.css("height",d);var c=v.find("#ivTitle").outerHeight(!0),e=v.find("#ivVariationSelection").outerHeight(!0),b=v.find("#ivMediaSelection").outerHeight(!0),f=v.find("#ivThumbs"),l=g.getDimension(f,"margin-top")+g.getDimension(f,"margin-bottom");f.css("height",d-c-e-b-l);v.find("#ivLargeImage").css("height",d);a.css("width",v.width()-
g.getDimension(v,"padding-left")-g.getDimension(v,"padding-right")-v.find("#ivThumbColumn").width()-g.getDimension(a,"margin-left")-g.getDimension(a,"margin-right"))}function O(){v.find("#ivMediaSelect").change(function(){var d=a(this).val();"all"===d?(v.find("#ivVideoList").hide(),v.find("#ivThumbs").show(),v.find(".ivThumbVideo").show(),"chromeful-video"===L.type&&v.find("#ivVideo_"+L.index).click()):"images"===d?(v.find("#ivVideoList").hide(),v.find("#ivThumbs").show(),v.find(".ivThumbVideo").hide(),
"chromeful-video"===L.type&&(0===da&&0===Z?v.find("#iv360").click():0===da?v.find("#ivHeroImage_0").click():v.find("#ivImage_0").click())):"videos"===d&&(v.find("#ivVideoList").show(),v.find("#ivThumbs").hide(),"chromeful-video"!==L.type?v.find("#ivVideoList_0").click():v.find("#ivVideoList_"+L.index).click())})}function x(){var a=v.find("#ivStage").find("#ivLargeImage"),d=a.width(),c=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var b=e.width(),f=e.height();0<e.length&&(e[0].naturalWidth&&
(b=e[0].naturalWidth),e[0].naturalHeight&&(f=e[0].naturalHeight));a.css("cursor","auto");var b=0===b?1:b,f=0===f?1:f,l=Math.min(d/b,c/f),k=f*l,g=b*l;1>l?(Pa?a.css("cursor","url('"+D.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor","zoom-in")),za=!0):za=!1;b=Math.min(g,b);f=Math.min(k-20,f);e.css({"margin-top":(c-f)/2,"margin-left":(d-b)/2,height:f,width:b});a.css("visibility","visible");Aa=!1}function H(a){var d=v.find("#ivLargeImage");
d.css("visibility","hidden");d.empty();g.animateStageIn(d);d.append(a);x()}function M(){aa&&aa.pause();v.find("#ivLarge360").css("display","none");v.find("#ivLargeVideo").css("display","none");v.find("#ivLargeImage").css("display","none");p()}function N(d){M();v.find("#ivLargeImage").css("display","block");var c;"hero-image"===d?e.isDefined(ha)&&(c=n(ha[L.index])):e.isDefined(la)&&(c=n(la[L.index]));if(e.isDefined(c)){v.find(".fullscreen").remove();var b=a("\x3cimg\x3e").attr("src",c).addClass("fullscreen"),
f=v.find("#ivLargeImage");g.animateStageOut(f,function(){b.load(function(){H(b)});if(b[0].complete)H(b);else{f.empty();var d=(f.height()-104)/2,c=(f.width()-80)/2;a("\x3cimg\x3e").attr("src",D.staticImages.spinner).css({position:"relative",top:d+"px",left:c+"px"}).appendTo(f)}})}}function J(){var a=parseInt(L.index,10)+1;a>=ma.length||v.find("#ivVideo_"+a).click()}function f(){var a;e.isDefined(ma)&&(a=ma[L.index]);if(e.isDefined(a)){M();var d=v.find("#ivLargeVideo").css("display","block");aa?(aa.isDetached()&&
aa.attach(d[0]),e.loadMediaIntoAiry(aa,a,wa,D.tabletWeb),aa.show()):(aa=e.createAiryInstanceForChromeful(d,a,wa,"ImmersiveView"),wa.enableContinuousPlay&&aa.bind("ended",J));aa.play({isAsync:!0})}}function z(){C();var a;a="hero-image"===L.type?v.find("#ivHeroImage_"+L.index):"image"===L.type?v.find("#ivImage_"+L.index):"chromeful-video"===L.type||"chromeless-video"===L.type?v.find("#ivVideo_"+L.index):"360-spin"===L.type?v.find("#iv360"):e.isDefined(ha)?v.find("#ivHeroImage_"+L.index):v.find("#ivImage_"+
L.index);e.isjQueryObjDefined(a)||(a=v.find("#ivImage_0"));l(a)}function l(a){v.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivThumbVideo")?(L.type="chromeful-video",L.index=a.attr("id").split("_")[1],f()):a.hasClass("ivHeroImage")?(L.type="hero-image",L.index=a.attr("id").split("_")[1],N(L.type)):a.hasClass("iv360Image")?(L.type="360-spin",L.index=0,k()):(L.type="image",L.index=a.attr("id").split("_")[1],N(L.type))}function k(){M();v.find("#ivLarge360").css("display",
"block");G();var a=v.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});g.animateStageIn(a)},200);E();q.postCountMetric("dppc_click360");ta=Date.now()}function p(){0<ta&&(w("dppc_duration360",Date.now()-ta),ta=0)}function w(a,d){t.ue&&t.ue.count(a,d)}function E(){if(0<pa){var a=v.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function d(c,e){if(pa<c.length){var b=a("\x3cimg /\x3e").css({display:"block",width:6*na+"px",height:sa+"px"});
b.hide();e.append(b);b.get(0).onload=function(){e.closest(document.documentElement).length&&(pa++,1===pa&&(E(),0<ta&&w("dppc_loadTime360",Date.now()-ta)),0<Ga&&w("dppc_perSpriteloadTime360",Date.now()-Ga),v.find("#iv360Spinner").hide(),b.show(),xa=5*T.imageLocations[Math.floor(ya/T.imageLocations[0].length)][ya%T.imageLocations[0].length],d(c,e))};b.attr("src",c[pa].replace(/(\._SP)\d+(,)\d+/,"$1"+ua+"$2"+va));Ga=Date.now()}}function c(a){if(e.isDefined(T.spriteWidthSizes)&&0<T.spriteWidthSizes.length){var d=
T.spriteWidthSizes,c=d.length,b=d[0],f=d[c-1];if(a<=b)return b;if(a>f)return f;for(b=0;b<c;b++)if(a>d[b]&&a<=d[b+1])return d[b+1]}else return a}function G(){var d=v.find("#ivLarge360");d.children("#image-360-sprites").length||(d.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),d.css({"margin-left":0,"margin-top":0,width:d.parent().width(),height:d.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",
D.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(d),Ha=!0,u())}function u(){if(e.isDefined(T.spriteURLs)&&e.isDefined(v)&&Ha&&!Ia){var b=v.find("#ivLarge360"),f=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",width:"100%",bottom:0,opacity:0,display:"block"});e.isDefined(T.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",
T.staticImages.hint360).appendTo(f);a("\x3cdiv\x3e").css({"text-align":"center"}).text(D.staticStrings.dragToSpin).appendTo(f);f.appendTo(b);var f=T.imageWidth,l=T.imageHeight,k=b.parent().width(),g=b.parent().height(),p=0,h=0;f/l>k/g?(ua=c(k),va=Math.round(l/f*ua),na=Math.ceil(k),sa=Math.ceil(va/ua*k),h=(g-sa)/2):(va=c(g),ua=Math.round(f/l*va),sa=Math.ceil(g),na=Math.ceil(ua/va*g),p=(k-na)/2);b.css({"margin-left":p,"margin-top":h,width:na+"px",height:sa+"px",overflow:"hidden",position:"relative"});
b.children("#image-360-sprites").css("width",6*na+"px");d(T.spriteURLs,v.find("#image-360-sprites"),0);f=v.find("#ivLarge360");f.bind("mousedown",P);f.bind("touchstart",F);f.bind("touchmove",A);f.bind("touchend",K);a(document).bind("mousemove",Q);a(document).bind("mouseup",R);e.isDefined(D.staticImages.grab)&&b.css("cursor","url('"+D.staticImages.grab+"'), auto");Ia=!0}}function F(a){Ba=!0;Ja=a.originalEvent.targetTouches[0].clientX}function A(a){Ba&&(S(a.originalEvent.targetTouches[0].clientX-Ja),
Ja=a.originalEvent.targetTouches[0].clientX)}function K(a){Ba&&(Ba=!1)}function P(a){Ca=!0;Ka=a.originalEvent.clientX;e.isDefined(D.staticImages.grabbing)&&(a=v.find("#ivLarge360"),a.css("cursor","url('"+D.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+D.staticImages.grabbing+"'), auto"));return!1}function Q(a){Ca&&(S(a.originalEvent.clientX-Ka),Ka=a.originalEvent.clientX)}function R(a){Ca&&(Ca=!1,e.isDefined(D.staticImages.grab)&&(a=v.find("#ivLarge360"),
a.css("cursor","url('"+D.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function S(a){for(a=xa-=a/na*180;0>a;)a+=360;for(;360<a;)a-=360;xa=a;var d;a=360;for(var c=0;c<pa;c++)for(var b=0;b<T.imageLocations[c].length;b++){var f=Math.abs(xa-5*T.imageLocations[c][b]);f<a&&(a=f,d=c*T.imageLocations[0].length+b)}d!==ya&&(a=Math.floor(d/T.imageLocations[0].length),a!==Math.floor(ya/T.imageLocations[0].length)&&(e.isDefined(La)||(La=document.createElement("canvas").getContext("2d")),
c=v.find("#image-360-sprites").children(),La.drawImage(c[a],0,0)),a=v.find(".iv360Hint").not(".iv360HintFaded"),e.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ya=d;a=d%T.imageLocations[0].length*-1*na;d=-1*Math.floor(d/T.imageLocations[0].length)*sa;c=v.find("#ivLarge360").children("#image-360-sprites");c.css("-webkit-transform","translate3d("+a+"px, "+d+"px, 0)");c.css("transform","translate3d("+a+"px, "+d+"px, 0)")}function fa(){v.delegate(".ivThumb","click",function(){var d=
a(this);l(d)});v.delegate(".ivThumbVideoListOuter","click",function(){v.find(".ivThumbVideoListOuter").removeClass("selected");var d=a(this);d.addClass("selected");L.type="chromeful-video";L.index=d.attr("id").split("_")[1];f()})}function U(){aa&&!aa.isDetached()&&(wa.volume=aa.getVolume(),aa.detach(),!document.all||t.atob||document.addEventListener||(aa=null));v.find("#ivLargeImage").empty();p()}function W(a,d){return 0<d?d/2:Math.min(0,Math.max(d,a))}function Y(d){var c=qa.left-(d.pageX-Da[0])*
Ea;h.capabilities.rtl&&(c=qa.left-(a(t).width()-d.pageX-Da[0])*Ea);d=qa.top-(d.pageY-Da[1])*Ea;c=W(c,Fa.left);d=W(d,Fa.top);v.find(".fullscreen").css({left:c,top:d})}function ea(){v.delegate("#ivLargeImage","click",function(a){if(Aa)x();else if(za){v.find(".fullscreen").removeAttr("style");if(za){var d=v.find("#ivLargeImage"),c=d.find(".fullscreen");Pa?d.css("cursor","url('"+D.staticImages.zoomOut+"'), auto"):(d.css("cursor","-webkit-zoom-out"),d.css("cursor","-moz-zoom-out"),d.css("cursor","zoom-out"));
Aa=!0;var b=v.find("#ivLargeImage");Fa.left=b.width()-c.width();Fa.top=b.height()-c.height();var b=d.height()/2,e=d.width()/2;Da=[d.offset().left+e,d.offset().top+b];qa.top=b-c.height()/2;qa.left=e-c.width()/2;c.css({position:"relative",left:qa.left,top:qa.top});Ea=Math.max(c.height()/d.height(),c.width()/d.width())}Y(a)}});v.delegate("#ivLargeImage","mousemove",function(a){Aa&&Y(a)})}function ga(d){if(e.isImmersiveViewEnabled(D,V.getCurrentItem().color))if(Ma){var c=d.$event.originalEvent;c.acknowledge&&
c.acknowledge(d.$currentTarget[0]);Oa=e.isDefined(d)&&"button-360-click"===d.action;b.isEnabled&&r.logImmersiveViewRequestServed(b);q.postCountMetric("dppc_immersiveViewOpened");if(e.isDefined(X))X.show();else{d=a("#auiImmersiveViewDiv");var c=a(t).height()-150,f=a(t).width()-75;X=Ma.create(d,{name:"immersiveView",activate:"onclick",width:f,height:c,popoverLabel:"ImmersiveView",hideHeader:!0});d.click()}if(Na){v=a("#ivMain");d=V.getCurrentItem().color;la=D.colorImages[d];ha=D.heroImage[d];ma=D.useChildVideos?
D.colorToVideo[d]:D.videos;ra=ca()&&D.spin360ColorEnabled[d];T=ca()?D.spin360ColorData[d]:void 0;C();ja=Z=oa=da=0;e.isDefined(ha)&&(Z=ha.length);e.isDefined(la)&&(da=la.length);e.isDefined(ma)&&(oa=ma.length);ra&&(ja=1);g.populateTitle(v.find("#ivTitle"),45,D);g.populateVariationSelection(v.find("#ivVariationSelection"));d=v.find("#ivMediaSelect");0===da+ja||0===oa?(d.parent().hide(),v.find("#ivThumbs").addClass("noMediaSelection")):(d.empty(),a("\x3coption/\x3e").attr("value","all").prop("selected",
!0).text(D.staticStrings.allMedia+" ("+(Z+da+ja+oa)+")").appendTo(d),a("\x3coption/\x3e").attr("value","images").text(D.staticStrings.images+" ("+(Z+da+ja)+")").appendTo(d),a("\x3coption/\x3e").attr("value","videos").text(D.staticStrings.videos+" ("+oa+")").appendTo(d),d.parent().show(),d.val("all"));d=v.find("#ivThumbs");d.find(".ivRow").not(".placeholder").remove();for(var c=Z+da+oa+ja,l=f=0;f<c;)for(var k=d.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(d),p=0;3>p&&f<c;p++,
f++,l++)if(l<Z){var G=ha[f].thumb,u=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id","ivHeroImage_"+f).appendTo(k);u.find(".ivThumbImage").css("background",'url("'+g.getResizedThumbnailURL(G)+'") center no-repeat')}else if(l>=Z&&l<da+Z)G=la[f-Z].thumb,u=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(f-Z)).appendTo(k),u.find(".ivThumbImage").css("background",'url("'+g.getResizedThumbnailURL(G)+'") center no-repeat');
else if(l>=Z+da&&l<da+Z+ja)u=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("iv360Image").attr("id","iv360").appendTo(k),u.find(".ivThumbImage").css("background",'url("'+(e.isDefined(D.staticImages.icon360)?g.getResizedThumbnailURL(D.staticImages.icon360,!0):"")+'") center no-repeat');else if(G=ma[f-da-Z-ja],u=d.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivThumbVideo").attr("id","ivVideo_"+(f-da-Z-ja)).appendTo(k),u.find(".ivThumbImage").css("background",
'url("'+G.thumbUrl+'") center no-repeat'),e.isDefined(G)){var z={position:"triggerTop"},n=v.find("#ivThumbs").find(".ivThumbVideoPopover.placeholder").clone().removeClass("placeholder");n.find(".ivVideoPopoverTitle").text(G.title);n.find(".ivVideoPopoverDuration").text(G.durationTimestamp);z.inlineContent=n[0];h.declarative.create(u,"a-tooltip",z)}d=v.find("#ivVideoList");d.find(".ivThumbVideoListOuter").not(".placeholder").remove();c=d.find(".placeholder");for(f=0;f<oa;f++)l=ma[f],k=c.clone().removeClass("placeholder").appendTo(d),
k.attr("id","ivVideoList_"+f),k.find(".ivThumbImage").css("background",'url("'+l.thumbUrl+'") center no-repeat'),k.find(".ivThumbTitle").text(l.title),k.find(".ivThumbDuration").text(l.durationTimestamp);v.find("#ivLarge360").empty();pa=0;Ia=Ha=!1;wa=D.airyConfig;Na=!1;Qa()}}else t.performance&&performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else q.postCountMetric("immersiveViewNotExistsClickCount")}function ia(a){var d=
D.colorToAsin[a],c={},b=500;if(d&&d.asin){c.params={asin:d.asin};var f="360"+d.asin,l=Date.now();c.success=function(d){w("dppc_asyncRequestTime360",Date.now()-l);d&&e.isDefined(d.spin360.spin360Model)?(e.ajaxState(f,"success"),D.spin360ColorData[a]=d.spin360.spin360Model,a===V.getCurrentItem().color&&(T=D.spin360ColorData[a],u())):c.error()};c.error=function(){q.postCountMetric("dppc_asyncFailed360");w("dppc_asyncRequestTime360",Date.now()-l);b*=2;16E3>=b?setTimeout(function(){l=Date.now();m.load("/gp/product/features/apparel-main-image/360.html",
c)},b):e.ajaxState(f,"fail")};e.ajaxState(f)&&"fail"!==e.ajaxState(f)||(m.load("/gp/product/features/apparel-main-image/360.html",c),e.ajaxState(f,"sent"))}}function ca(){return e.isDefined(D.spin360ConfigEnabled)&&D.spin360ConfigEnabled}var ba,D,V,ka,X,v,ha,la,ma,Z,da,oa,ja,L,aa,wa,T,ra,na,sa,va,ua,Ka,Ja,Oa=!1,Ha=!1,Ia=!1,xa=0,ya=0,ta=0,Ga=0,Ca=!1,Ba=!1,pa=0,La,Pa=navigator.userAgent.match(/msie|trident/i),Na=!0,Aa=!1,za=!1,Fa={},qa={},Ea,Da,Ma;y.when("a-modal").execute(function(a){Ma=a});var Qa=
h.once(function(){O();fa();ea();h.on("a:popover:afterUpdatePosition:immersiveView",I);h.on("a:popover:afterShow:immersiveView",z);h.on("a:popover:afterHide:immersiveView",U);B()});return function(d,c,f,l){ba=this;D=d;V=c;b.refToModel=V;ka=l;ca()&&(D.spin360ColorData[D.landingAsinColor]=D.spin360ColorData[D.defaultColor],D.spin360ColorEnabled[D.landingAsinColor]=D.spin360ColorEnabled[D.defaultColor]);e.isDefined(D.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",
g.addStyleCodeToURL(D.staticImages.icon360,"_FMpng_RI_"));ba.render=function(a,d,c,b,f,l){Na=!0;ca()&&D.spin360ColorEnabled[a]&&!e.isDefined(D.spin360ColorData[a])&&(D.spin360ColorData[a]={},ia(a));e.isImmersiveViewEnabled(D,V.getCurrentItem().color)&&ca()&&D.spin360ColorEnabled[a]&&(d===D.maxAlts&&(a=b.find(".item.imageThumbnail"),c=b.find(".item.videoThumbnail"),e.isDefined(c)&&1<c.length?c.last().remove():a.last().remove(),d--),a=b.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item"),
h.declarative.create(a,"button-360-click"),b.append(a),d++,q.postCountMetric("dppc_display360"));return d};ba.update=function(a){};e.isImmersiveViewEnabled(D,V.getCurrentItem().color)||e.addTag("immersiveViewNotAvailable");ka.register("imageClick",ga);ka.register("button360Click",ga)}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric","logFailedInteractionMetric","postEarlyMetric","imageBlockImmersiveViewUtils").register("ImageBlockTabbedImmersiveView",function(h,a,e,m,q,b,r){function g(){var b=
O.getImmersiveViewModalInstance().$container.find(".a-popover-wrapper"),e=b.find(".a-popover-inner"),b=b.height()-r.getDimension(e,"padding-top")-r.getDimension(e,"padding-bottom");a("#iv-tab-view-container").css("height",b);M=a("#iv-tab-view-container ul.iv-tab-views li").filter(function(){return"none"!==a(this).css("display")}).length;1<M?(a("#iv-tab-view-container ul.iv-tab-views li").parent().show(),e=a("#iv-tab-view-container ul.iv-tab-views li").parent().height(),b-=e):a("#iv-tab-view-container ul.iv-tab-views li").parent().hide();
a("#iv-tab-view-container .iv-tab-content").css("height",b);h.trigger("dp:image-block:immersive-view:resize")}function n(){h.trigger("dp:image-block:immersive-view:reset")}function B(l){if(e.isImmersiveViewEnabled(I,O.getCurrentItem().color))if(J){var k=l.$event.originalEvent;k.acknowledge&&k.acknowledge(l.$currentTarget[0]);q.isEnabled&&b.logImmersiveViewRequestServed(q);m.postCountMetric("dppc_immersiveViewOpened");e.isDefined(l)&&("button-360-click"===l.action?a("#iv360TabHeading").click():"videoIngressClick"===
l.action?(N=l.clickTimeStamp,a("#ivVideosTabHeading").click()):a("#ivImagesTabHeading").click());k=O.getImmersiveViewModalInstance();if(e.isDefined(k))k.show();else{l=a("#auiImmersiveViewDiv");var k=Math.min(Math.max(a(t).height()-150,540),1080),g=Math.min(Math.max(a(t).width()-75,990),1980),k=J.create(l,{name:"immersiveView",activate:"onclick",width:g,height:k,popoverLabel:"ImmersiveView",hideHeader:!0});O.setImmersiveViewModalInstance(k);l.click()}H&&(H=!1,f(),h.trigger("dp:image-block:immersive-view:init"))}else t.performance&&
performance.now&&t.ue&&ue.count&&ue.count("DPIBClickFailedInteractionCount",(ue.count("DPIBClickFailedInteractionCount")||0)+1);else m.postCountMetric("immersiveViewNotExistsClickCount")}var C,I,O,x,H=!0,M=0,N,J;y.when("a-modal").execute(function(a){J=a});var f=h.once(function(){h.on("a:popover:afterUpdatePosition:immersiveView",g);h.on("a:popover:afterShow:immersiveView",g);h.on("a:popover:afterHide:immersiveView",n)}),z=h.once(function(){var b=a("#iv-tab-view-container ul.iv-tab-views li");b.bind("click",
function(e){var f=b.filter(".iv-active");f.attr("id")!==a(this).attr("id")&&h.trigger("dp:ivTabs:"+f.find("a").attr("data-iv-tab-view")+":deselect",e);b.removeClass("iv-active");a(this).addClass("iv-active");a("#iv-tab-view-container .iv-tab-content").hide();f=a(this).find("a").attr("data-iv-tab-view");a("#"+f).show();"ivVideosTab"===f&&(e.clickTimeStamp=N||e.timeStamp);h.trigger("dp:ivTabs:"+f+":select",e);m.postCountMetric("dppc_"+f);return!1})});return function(a,b,f,g){C=this;I=a;O=b;q.refToModel=
O;x=g;C.render=function(a,d,c,b,e,f){m.postCountMetric("dpcc_altThumbs_"+d);H=!0};C.update=function(a){};C.getTitle=function(){};C.getVariationSelectionInfo=function(){};z();e.isImmersiveViewEnabled(I,O.getCurrentItem().color)||e.addTag("immersiveViewNotAvailable");x.register("imageClick",B);x.register("button360Click",B);e.useTabbedImmersiveView(I)&&x.register("videoIngressClick",B)}});"use strict";y.when("A").register("ImageBlockLoader",function(h){return{load:function(a,e){e=e||{};e.timeout=e.timeout||
4E3;h.ajax(a,e)}}});"use strict";y.when("A","jQuery","Airy","postMetric","ImageBlockATF","ImageBlockBTF","logFailedInteractionMetric","postEarlyMetric").register("imageBlockUtils",function(h,a,e,m,q,b,r,g){function n(a){return null!==a&&"undefined"!==typeof a}function B(d){var c=0;a.each(d,function(a,d){var b=parseInt(d[1],10);b>c&&(c=b)});return c}function C(d){var c=0;a.each(d,function(a,d){var b=parseInt(d[0],10);b>c&&(c=b)});return c}function I(d){var c;a.each(d,function(a,d){n(c)||(c=d[1]/d[0])});
return c||1}function y(a,c,b){c.fadeTo(500,0,function(){H(a,b);c.fadeTo(500,1)})}function x(a){a&&a.toggle()}function H(d,c){var b=c.find("img");n(b[d])&&a(b[d]).click()}function M(a,c){E[a]=c?c:E[a];return E[a]}function N(d,c,b){b=b||w;b=b.colorImages;if(1>b.length||!n(b[d])||!n(c))return-1;var e=-1;a.each(b[d],function(a,d){d.variant===c&&(e=a)});return e}function J(d,c,b){b=b||w;b=b.colorImages;return!(n(b)&&n(b[d])&&n(b[d][c])&&n(b[d][c].main))||1>a.map(b[d][c].main,function(a,d){return d}).length?
-1:b[d][c]}function f(a,c,b,e){e.parent().css("z-index",2);0!==b&&0!==c&&(c/=b,a>c?e.css("width",c/a*100+"%"):e.css("height",a/c*100+"%"))}function z(d,c){var b;if(b=d.useIV)b=d.colorImages&&d.colorImages[c]&&0<d.colorImages[c].length?!0:!1;r.isEnabled&&(r.IVApplicaple=b,g.logImmersiveViewApplicability(a,r));return b}var l,k,p,w=a.extend(!0,{},q,b),E={};return{isDefined:n,isDefinedAndEmpty:function(a){return n(a)&&"object"===typeof a&&0===Object.keys(a).length},isUndefinedOrEmpty:function(a){return n(a)?
"object"===typeof a&&0===Object.keys(a).length:!0},isDefinedAndNotEmpty:function(a){return n(a)?"object"===typeof a&&0<Object.keys(a).length:!1},isjQueryObjDefined:function(a){return 0!==a.length},getAspectRatio:I,getMaxHeightOfMainImage:function(a,c,b){c=c.height();if(b.naturalMainImageSize)return c;a=C(a);0<a&&(c=Math.min(c,a));return c},getMaxWidthOfMainImage:function(a,c,b){c=c.width();if(b.naturalMainImageSize)return c;a=B(a);0<a&&(c=Math.min(c,a));return c},getMaxDimensionsOfMainImage:function(a,
c,b){var e;e=c.find("#landingImage");e=b.acEnabled&&e&&e.length?e[0].naturalWidth/e[0].naturalHeight:I(a);a=c.width();c=c.width()/b.holderRatio;c=Math.min(c,b.holderMaxHeight);b=c*e;c=Math.min(c,a/e);b=Math.min(a,b);return[c,b]},getContainerHeight:function(a,c,b){var e=a.get(0);a=0;if(n(e)){a=e.offsetWidth/c;a=Math.min(a,b);var f;c=w.mainImageHeightPartitions;b=w.mainImageMaxSizes;if(n(b)&&n(c)){for(var l=0,k=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,e=0;e<c.length;e++)k>
c[e]&&(l=e+1);b.length>=l&&(f=b[l])}n(f)&&(a=Math.min(f[1],a))}return a},getColorFromState:function(d,c){if(d){c=c||w;var b="";a.each(c.visualDimensions,function(a,c){d[c]&&(b+=" "+d[c])});return b&&b.substring(1)}},createThumbnail:function(a,c,b,e){var f=b.find(".template").clone().removeClass("template").addClass("item"),l=document.createElement("img");l.src=c;f.find(".placeHolder").replaceWith(l);(c=a.heroVideoVariant)&&"hero-image"===a.type&&a.variant===c&&f.addClass("heroImageThumbnail");n(e)&&
f.addClass(e);h.declarative.create(f,"thumb-action",a);f.attr&&f.attr("data-ux-click","");b.append(f)},selectGivenThumbnail:function(a,c){var b=a.find(".a-button");c.find(".a-button").removeClass("a-button-selected").removeClass("a-button-focus");b.addClass("a-button-selected").addClass("a-button-focus")},createAiryInstanceForChromeful:function(d,c,b,f,g,h,p,r){var z=a.extend({},b.foresterMetadataParams);null!==f&&(z.method+="."+f);var n=[];c.disabledViewIds&&(n=c.disabledViewIds);return e.embed({parentElement:d[0],
streamingUrls:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,swfUrl:b.swfUrl,foresterMetadataParams:z,backgroundColor:"black",flashParams:{wmode:"transparent"},slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl},videoAds:b.videoAds,bindings:{play:function(){"ImmersiveView"===f?l||(l=!0,m.postCountMetric("dppc_chromefulVideoPlayedIV")):k||(k=!0,m.postCountMetric("dppc_chromefulVideoPlayedPV"))}},cuePoints:[{values:c.durationSeconds-1,type:"position",
callback:function(a,d,c){g&&(y(0,h,r),x(p))}}],disabledViewIds:n})},loadMediaIntoAiry:function(a,c,b,e){a&&a.getMediaSourceInfo()!==c.url&&(e?(p={mediaSourceInfo:[c.url],contentId:c.mediaObjectId,refTag:"vse_ib_tablet_web"},a.loadMedia(p)):a.loadMedia({mediaSourceInfo:c.url,contentId:c.mediaObjectId,contentMinAge:Number(c.minimumAge||"")||0,contentTitle:c.title,slateImages:{preloadSlate:c.slateUrl,postMediaSlate:c.slateUrl}}))},showUnavailable:function(d){d&&(a("#imageBlock .unvailableVariation").html(d),
a("#imageBlock .variationUnavailable").show())},hideUnavailable:function(){a("#imageBlock .variationUnavailable").hide()},fadeToThumbnail:y,toggleVideoCaption:x,selectThumbnail:H,spinner:function(d,c){var b=a("#imageBlock .a-spinner").parent();0===b.length&&(b=a("\x3cdiv\x3e\x3c/div\x3e").append(a("\x3cspan\x3e\x3c/span\x3e").addClass("a-spinner").addClass("a-spinner-medium")),d.append(b),b.css({position:"absolute",left:"50%",top:"50%",transform:"translate3d(-50%, -50%, 0)","-webkit-transform":"translate3d(-50%, -50%, 0)",
"z-index":"3",width:"48px",height:"48px",border:"8px solid #FFFFFF","-webkit-border-radius":"20px","-moz-border-radius":"20px","border-radius":"100%"}));c?b.show():b.hide();return b},rankedImagesReadyEvent:function(a){return"ranked-images-ready-for-"+a},ajaxState:M,getIndexForVariant:N,getImageHash:J,lazyLoadingRequired:function(a,c,b){c=Math.max(N(a.color,c.getCurrentItem().variant,b),0);c=-1!==J(a.color,c,b);a=b.colorToAsin[a.color]&&b.colorToAsin[a.color].asin;a=!a||"success"!==M(a);return!b.lazyLoadExperienceDisabled&&
!c&&a},lazyLoadOnHoverEnabled:function(a){return!a.lazyLoadExperienceOnHoverDisabled},updateAspectRatio:f,repositionVideoBanner:function(a,c,b,e){setTimeout(function(){var b=a.width()/a.height();f(b,16,9,c)},e||0)},getVideosCount:function(a,c){return c.useChildVideos&&c.colorToVideo[a]?c.colorToVideo[a].length:c.videos?c.videos.length:0},getVideoHash:function(a,c,b){if(b.useChildVideos){if(!n(b.colorToVideo))return-1;a=b.colorToVideo[a]}else a=b.videos;return n(a)&&n(a[c])&&n(a[c].url)?a[c]:-1},isImmersiveViewEnabled:z,
playVideoInImmersiveView:function(a,b){return z(a,b)&&a.useTabbedImmersiveView},useTabbedImmersiveView:function(a){return a.useTabbedImmersiveView},getMediaSourceInfo:function(){return n(p)?p.mediaSourceInfo[0]:""},getNilgiriServiceAjaxRequest:function(a,b,e){b=a.colorToAsin[b]&&a.colorToAsin[b].asin;b=n(b)?b:a.mediaAsin;return{pageContext:{page:"DetailPageTablet",placement:"ImageBlock",marketplaceID:e.marketPlaceID,locale:e.languageCode,requestId:a.requestId,product:{contentID:b,contentIDType:"ASIN"},
video:{contentID:e.mediaObjectId,contentIDType:"ASIN",imageURL:e.slateUrl,videoURL:e.url}},configuration:{id:"div-light-player",type:"lightplayer",binder:"lightplayer",assets:["VSECommonComponentAssets","Brila"],features:{features:{placementcontext:"vse_ib_tablet_web"}}}}},addTag:function(a){t.ue&&t.ue.tag&&t.ue.tag(a)}}});"use strict";y.when("A","jQuery","imageBlockUtils","ImageBlockHeroUtils").register("ImageBlockHeroImageView",function(h,a,e,m){function q(b,f,k,g){if(!e.isjQueryObjDefined(b.find(".a-button-selected"))){var h=
H.getCurrentItem();if(!g||"chromeless-video"!==h.type||!x.autoplayVideo){g=0;if("hero-image"===h.type){g=r(h.color,h.variant);if(-1===g)return;g=-1!==g?g:0}var n=f+g;n>=k&&(g=0,n=f);f=m.getHeroImageHash(x,h.color,g);-1!==f&&(M.dispatch("updateModel",{data:{index:g,thumbnailIndex:n,variant:f.variant,type:"hero-image"}}),f=b.find(".item").get(n),e.selectGivenThumbnail(a(f),b))}}}function b(b,f,k){if("hero-video"===H.getCurrentItem().type)return b;f=x.heroImage&&x.heroImage[f];var g=b;e.isDefined(f)&&
(a.each(f,function(a,f){b<x.maxAlts&&(e.createThumbnail({type:"hero-image",index:a,thumbnailIndex:b,variant:f.variant},f.thumb,N,"imageThumbnail"),b++)}),q(N,g,b,k));return b}function r(b,f){var k=x.heroImage;if(1>k.length||!e.isDefined(k[b])||!e.isDefined(f))return-1;var g=-1;a.each(k[b],function(a,b){b.variant===f&&(g=a)});return g}function g(){if(J.length&&x.repositionHeroImage){var a=m.getHeroDimParams(x,H.getCurrentItem()),b;e.isDefined(a)&&(b=e.isDefined(a.xPos)?a.xPos+"px "+a.yPos+"px ":"center "+
a.yPos+"px ",J.css({"background-position":b,"background-size":a.width+"px "+a.height+"px ","max-width":a.width+"px ","min-height":a.height+"px ",filter:"","-ms-filter":""}))}}function n(a,b,f,g){if(J.length&&a&&b){if("function"===typeof f||g){var h=new Image;h.onload=g?function(){J.css("background-image",'url("'+a+'")')}:f;h.src=a}f=b[1];var h=b[0],r;g||J.css({"background-image":'url("'+a+'")'});x.repositionHeroImage&&(b=m.getHeroDimParams(x,H.getCurrentItem(),b),e.isDefined(b)&&(f=b.width,h=b.height,
r=e.isDefined(b.xPos)?b.xPos+"px "+b.yPos+"px ":"center "+b.yPos+"px "));J.css({"background-position":r,"background-size":f+"px "+h+"px ","max-width":f+"px ","min-height":h+"px ",filter:"","-ms-filter":""})}}function B(b,e,f,g){b=m.getHeroImageHash(x,b,e);if(-1===b)return-1;e=a.map(b.main,function(a,b){return b})[0];n(e,b.main[e],f,g)}function C(a,b,e){if("hero-image"!==a.type)return-1;var f=r(a.color,H.getCurrentItem().variant),f=-1!==f?f:0;if(-1===m.getHeroImageHash(x,a.color,f))return-1;var g=
H.getCurrentItem();a.thumbnailIndex=g.thumbnailIndex;a.type=g.type;a.variant=g.variant;a.index=f;t(a,b,e)}function t(a,b,e){var g=m.getHeroImageHash(x,a.color,a.index),r;r=a&&f&&h.equals(a,f)?!0:!1;f||(f=a);if(!r&&a||b)B(a.color,a.index,b,e),f=a;J.removeClass("hide-background");h.trigger("dp:image-block:update",g)}var y,x,H,M,N,J,f={};return function(f,l,k,h){y=this;x=f;H=l;M=h;x.heroImage[x.landingAsinColor]=x.heroImage[x.defaultColor];y.render=function(e,f,d,c,g,k,l){N=c;J=a("#heroImage");e=b(f,
e,k);C(H.getCurrentItem(),l,k);return e};y.update=function(a){var b=a.data;"ingress"!==b.type&&J.addClass("hide-background");"swatchHover"===a.type?a.captured||(b.type=H.getCurrentItem().type,-1!==C(b)&&(a.captured=!0)):"hero-image"===b.type&&(t(b),"click"!==a.type&&x.usePeekHover||e.selectGivenThumbnail(a.$declarativeParent,N))};M.register("resize",g)}});"use strict";y.when("A","jQuery","imageBlockUtils").register("ImageBlockAltImageIngressView",function(h,a,e){var m,q,b,r;return function(a,n,B,
t){m=this;q=a;b=t;m.render=function(a,b,g,n,B,t,C){r=n;m=this;g=q.maxAlts;n=b;B=q.colorImages[a]?q.colorImages[a].length:0;B+=e.getVideosCount(a,q);a=q.heroImage[a];t=0;a&&(t=a.length);a=B+t;a>g&&(g=a-g,a=r.find(".altIngressTemplate").clone().removeClass("altIngressTemplate").removeClass("aok-hidden").addClass("item"),g+="+",n={type:"ingress",index:0,thumbnailIndex:b,variant:""},a.find("#altIngressText").append(g),h.declarative.create(a,"thumb-action",n),r.append(a),n=b++);return n};m.update=function(a){"ingress"===
a.data.type&&"click"===a.type&&b.dispatch("imageClick",a)}}});"use strict";y.when("imageBlockUtils").register("ImageBlockState",function(h){return function(a,e,m){this.getImageHash=function(e){var b=m.getCurrentItem();e=h.getIndexForVariant(b.color,e||"MAIN",a);return h.getImageHash(b.color,e,a)};this.onImageUpdateForTwister=function(a){e.register("updateSelection",function(b){"swatchClick"===b.type&&"function"===typeof a&&a()})}}});"use strict";y.when("jQuery","imageBlockUtils").register("ImageBlockHeroUtils",
function(h,a){function e(a,e){var g;if(e.repositionHeroImage){g=a[1];var h=a[0];if(768>=(t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight))g*=.7,h*=.7;else{var m=((t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)-1024)/256,m=Math.max(Math.min(m,1),0);g*=.7+.3*m;h*=.7+.3*m}g=[g,h]}return g}function m(b,e,g){var h;if(g.repositionHeroImage){var m=t.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;g=g.heroFocalPoint;
if(a.isDefined(g)){h=Math.max((m-Math.min(1500,b))/2,0);var q=Math.max((m-b)/2,0);h-=q;m=Math.max(Math.min(m,1500),1024);h=h+(m-420-23)/2-b/e[1]*g}}return h}function q(b,e,g){b=b.heroImage;return!(a.isDefined(b)&&a.isDefined(b[e])&&a.isDefined(b[e][g])&&a.isDefined(b[e][g].main))||1>h.map(b[e][g].main,function(a,b){return b}).length?-1:b[e][g]}return{getHeroImageHash:q,getHeroDimParams:function(b,r,g){if(b.repositionHeroImage){if(!a.isDefined(g)){g=q(b,r.color,r.index);if(-1===g)return;r=h.map(g.main,
function(a,b){return b})[0];g=g.main[r]}r=e(g,b);b=m(r[0],g,b);return{height:r[1],width:r[0],xPos:b,yPos:75}}}}});"use strict";y.when("A","jQuery","imageBlockUtils").register("imageBlockImmersiveViewUtils",function(h,a,e){function m(a,r){var g=h.copy(a);if(e.isDefined(a)&&a.length>r){try{for(var n=-1,m=0;m<a.length;m++){var q=a.charAt(m);if(" "===q||"."===q||"?"===q||";"===q||","===q||":"===q)n=m;if(m===r-4){g=a.substring(0,-1===n?m:n);break}}}catch(t){g=a.substring(0,r-3)}g+="..."}return g}function q(a,
e){var g=a.lastIndexOf(".");return a="_"===a.charAt(g-1)?a.substring(0,g-1)+e+a.substring(g):a.substring(0,g)+"."+e+a.substring(g)}return{getDimension:function(a,e){var g=parseInt(a.css(e),10);return isNaN(g)?0:g},attachTabSelectHandler:function(a,e){h.on("dp:ivTabs:"+a+":select",e)},attachTabDeselectHandler:function(a,e){h.on("dp:ivTabs:"+a+":deselect",e)},attachImmersiveViewResizeHandler:function(a){h.on("dp:image-block:immersive-view:resize",a)},detachImmersiveViewResizeHandler:function(a){h.off("dp:image-block:immersive-view:resize",
a)},attachImmersiveViewResetHandler:function(a){h.on("a:popover:afterHide:immersiveView",a)},hideTabHeading:function(b){a("#"+b).hide()},unhideTabHeading:function(b){a("#"+b).show()},addStyleCodeToURL:q,getResizedThumbnailURL:function(a,e){a=a.replace(/\._(AA|SS)\d+_/,"").replace(/\._SX\d+_SY\d+_CR,0,0,\d+,\d+_/,"");a=a.replace(/\._(US)\d+_/,"").replace(/\._SR\d+,\d+_/,"").replace(/\._SP[0-9,C]+_/,"");a=a.replace(/\._CB\d+_SS\d+_/,"");var g="_AA50_";e&&(g+="FMpng_RI_");return q(a,g)},populateVariationSelection:function(b){if(e.isDefined(t.DetailPage)&&
e.isDefined(t.DetailPage.StateController)){b.empty();var h=t.DetailPage.StateController.getState(),g=h.variation_label_order,n;for(n in g)if(g.hasOwnProperty(n)){var m=g[n],q=h.selected_variations[m],m=h.variation_display_labels[m];q&&a("\x3cdiv/\x3e").addClass("ivVariations").text(m+":"+q).appendTo(b)}}},populateTitle:function(a,e,g){a.html(g.title);a.attr("title",a.text());a.html(m(g.title,e))},animateStageIn:function(a){a.animate({opacity:1},200)},animateStageOut:function(a,e){a.animate({opacity:.4},
100,e)},logError:function(a,e,g,h){t.ueLogError&&t.ueLogError(h,{logLevel:a,attribution:e,message:g})}}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveViewImages",function(h,a,e,m,q){function b(){q.populateTitle(k.find("#ivTitle"),160,z)}function r(){var a=l.getCurrentItem().color;w=z.colorImages[a];p=z.heroImage[a];E=d=0;e.isDefined(p)&&(E=p.length);e.isDefined(w)&&(d=w.length)}function g(a){return a.hiRes||a.large||
a.main[a.main.length-1]}function n(){var a=k.find("#ivStage").find("#ivLargeImage"),b=a.width(),c=a.height(),e=a.find(".fullscreen");e.removeAttr("style");var d=e.width(),f=e.height();0<e.length&&(e[0].naturalWidth&&(d=e[0].naturalWidth),e[0].naturalHeight&&(f=e[0].naturalHeight));a.css("cursor","auto");var d=0===d?1:d,f=0===f?1:f,g=Math.min(b/d,c/f),h=f*g,l=d*g;1>g?(G?a.css("cursor","url('"+z.staticImages.zoomIn+"'), auto"):(a.css("cursor","-webkit-zoom-in"),a.css("cursor","-moz-zoom-in"),a.css("cursor",
"zoom-in")),A=!0):A=!1;d=Math.min(l,d);f=Math.min(h-20,f);e.css({"margin-top":(c-f)/2,"margin-left":(b-d)/2,height:f,width:d});a.css("visibility","visible");F=!1}function t(a){var b=k.find("#ivLargeImage");b.css("visibility","hidden");b.empty();q.animateStageIn(b);b.append(a);n()}function C(b){k.find("#ivLargeImage").css("display","none");k.find("#ivLargeImage").css("display","block");var d;"hero-image"===b?e.isDefined(p)&&(d=g(p[c.index])):e.isDefined(w)&&(d=g(w[c.index]));if(e.isDefined(d)){k.find(".fullscreen").remove();
var f=a("\x3cimg\x3e").attr("src",d).addClass("fullscreen"),h=k.find("#ivLargeImage");q.animateStageOut(h,function(){f.load(function(){t(f)});if(f[0].complete)t(f);else{h.empty();var b=(h.height()-104)/2,c=(h.width()-80)/2;a("\x3cimg\x3e").attr("src",z.staticImages.spinner).css({position:"relative",top:b+"px",left:c+"px"}).appendTo(h)}})}}function y(a){k.find(".ivThumb").removeClass("selected");a.addClass("selected");a.hasClass("ivHeroImage")?c.type="hero-image":c.type="image";c.index=a.attr("id").split("_")[1];
C(c.type);m.postCountMetric("dpcc_iv_thumbCLick_"+(parseInt(c.index,10)+1)+"_"+(E+d))}function O(){k.delegate(".ivThumb","click",function(){var b=a(this);y(b)})}function x(a,b){return 0<b?b/2:Math.min(0,Math.max(b,a))}function H(a){var b=P.top-(a.pageY-R[1])*Q;a=x(P.left-(a.pageX-R[0])*Q,K.left);b=x(b,K.top);k.find(".fullscreen").css({left:a,top:b})}function M(){k.delegate("#ivLargeImage","click",function(a){if(F)n();else if(A){k.find(".fullscreen").removeAttr("style");if(A){var b=k.find("#ivLargeImage"),
c=b.find(".fullscreen");G?b.css("cursor","url('"+z.staticImages.zoomOut+"'), auto"):(b.css("cursor","-webkit-zoom-out"),b.css("cursor","-moz-zoom-out"),b.css("cursor","zoom-out"));F=!0;var d=k.find("#ivLargeImage");K.left=d.width()-c.width();K.top=d.height()-c.height();var d=b.height()/2,e=b.width()/2;R=[b.offset().left+e,b.offset().top+d];P.top=d-c.height()/2;P.left=e-c.width()/2;c.css({position:"relative",left:P.left,top:P.top});Q=Math.max(c.height()/b.height(),c.width()/b.width())}H(a);m.postCountMetric("dpcc_iv_largeImageCLick")}});
k.delegate("#ivLargeImage","mousemove",function(a){F&&H(a)})}function N(){k.find("#ivLargeImage").empty()}function J(f){if(u){k=a("#ivMain");r();c=l.getCurrentItem();b();q.populateVariationSelection(k.find("#ivVariationSelection"));f=k.find("#ivThumbs");f.find(".ivRow").not(".placeholder").remove();for(var g=E+d,h=0,m=0;h<g;)for(var n=f.find(".ivRow.placeholder").clone().removeClass("placeholder").appendTo(f),t=0;4>t&&h<g;t++,h++,m++)if(m<E){var z=p[h].thumb,x=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").addClass("ivHeroImage").attr("id",
"ivHeroImage_"+h).appendTo(n);x.find(".ivThumbImage").css("background",'url("'+q.getResizedThumbnailURL(z)+'") center no-repeat')}else m>=E&&m<d+E&&(z=w[h-E].thumb,x=f.find(".ivThumb.placeholder").clone().removeClass("placeholder").attr("id","ivImage_"+(h-E)).appendTo(n),x.find(".ivThumbImage").css("background",'url("'+q.getResizedThumbnailURL(z)+'") center no-repeat'));S();u=!1}else b();f=a("#ivImagesTab").height();k.css("height",f);g=k.find("#ivTitle").outerHeight(!0);h=k.find("#ivVariationSelection").outerHeight(!0);
m=k.find("#ivThumbs");n=q.getDimension(m,"margin-top")+q.getDimension(m,"margin-bottom");m.css("height",f-g-h-n);k.find("#ivLargeImage").css("height",f);f=k.find("#ivStage");g=k[0]&&k[0].getBoundingClientRect&&Math.floor(k[0].getBoundingClientRect().width)||k.width();f.css("width",g-q.getDimension(k,"padding-left")-q.getDimension(k,"padding-right")-k.find("#ivThumbColumn").width()-q.getDimension(f,"margin-left")-q.getDimension(f,"margin-right"));c=l.getCurrentItem();f="hero-image"===c.type?k.find("#ivHeroImage_"+
c.index):"image"===c.type?k.find("#ivImage_"+c.index):e.isDefined(p)?k.find("#ivHeroImage_"+c.index):k.find("#ivImage_"+c.index);e.isjQueryObjDefined(f)||(f=k.find("#ivImage_0"));y(f)}var f,z,l,k,p,w,E,d,c,G=navigator.userAgent.match(/msie|trident/i),u=!0,F=!1,A=!1,K={},P={},Q,R,u=!0,S=h.once(function(){O();M();q.attachImmersiveViewResizeHandler(J);q.attachTabDeselectHandler("ivImagesTab",N)});return function(b,c,e,g){f=this;z=b;l=c;f.render=function(b,c,e,f,g,h){u=!0;r();0===E+d?q.hideTabHeading("ivImagesTabHeading"):
q.unhideTabHeading("ivImagesTabHeading");1===E+d?a("#ivThumbs").hide():a("#ivThumbs").show()};f.update=function(a){};q.attachTabSelectHandler("ivImagesTab",J)}});"use strict";y.when("A","jQuery","imageBlockUtils","postMetric","imageBlockImmersiveViewUtils","vse_ns_preLoaderHook","vse_ns_lazyLoaderHook").register("ImageBlockImmersiveViewVideos",function(h,a,e,m,q,b,r){function g(){w.delegate(".ivThumb","click",function(){var b=a(this);w.find(".ivThumb").removeClass("selected");b.addClass("selected");
b.hasClass("ivThumbVideo")&&(E.type="chromeful-video",E.index=b.attr("id").split("_")[1])})}function n(){if(Y){var b=a("#ivVideosTab").height();w.css("height",b);var c=w.find(".vse-lb-container");d=b-q.getDimension(c,"padding-top")-q.getDimension(c,"padding-bottom");c.css({"max-height":b,overflow:"hidden"});if(S){w.css({"max-width":Math.floor(1.77*d)});return}var b=w.find(".vse-player-container"),c=w.find(".vse-video-action-strip"),e=w.find(".vse-lb-video-metadata"),f=Math.floor(d-q.getDimension(e,
"height")-q.getDimension(c,"height")),g=Math.floor(1.77*f);b.css({"max-height":f,"max-width":g,marginLeft:"auto",marginRight:"auto"});e.css({"max-width":g,marginLeft:"auto",marginRight:"auto"});c.css({"max-width":g,marginLeft:"auto",marginRight:"auto"})}fa&&(b=w.find(".vse-vertical-scroll"),c=q.getDimension(b,"margin-top")+q.getDimension(b,"margin-bottom"),b.css("max-height",d-c))}function B(){C();c&&c.pause();U=!1;Q=!0;A=null;W=!0;Y=!1}function C(){U=!1;c&&c.pause()}function y(b){A=b.clickTimeStamp?
b.clickTimeStamp:h.now();e.isDefined(p)&&(p.eventTimestamp=A);R&&(r.get(h,"#ivVideoBlock",k,ca,ba),w=a("#ivVideoBlock"),l.getCurrentItem(),E=l.getCurrentItem(),ea());n();U=!0;R=!1;H()}function O(b){R&&(w=a("#ivVideoBlock"),l.getCurrentItem(),E=l.getCurrentItem(),ea());U&&H();n()}function x(a){c=a.player;Y&&(J(),H())}function H(){if(c&&U&&(w.find(".vse-lb-container").animate({opacity:1},200),c.play(p),m.postCountMetric("dpcc_vse_videoBlock_video_played"),Q)){var a=t.ue;a&&(a=a.count("dpcc_vse_videoingressclick"),
a=(new Date).getTime()-a,m.postTimeMetric("dpcc_vse_vitff",a),Q=!1)}}function M(){h.trigger("vse:detailpage-imageblock:page:lightBoxClosed")}function N(a){G=a.popover.$popover;Y=!0;J()}function J(){Y&&W&&U&&c&&(G.addClass(h.$(G).find(".vse-lb-container").data("cssClass")),h.trigger("vse:detailpage-imageblock:page:lightBoxOpened",{lightBoxId:"ivVideoBlock",assetSpec:p}),n(),W=!1)}var f,z,l,k,p,w,E,d,c,G,u,F,A,K,P,Q=!0,R=!0,S=!1,fa=!1,U=!1,W=!0,Y=!1,ea=h.once(function(){g();q.attachImmersiveViewResizeHandler(O);
q.attachTabDeselectHandler("ivVideosTab",C);q.attachImmersiveViewResetHandler(B)}),ga=function(b,f,g){a("#ivVideoBlockSpinner").addClass("aok-hidden");m.postCountMetric("dpcc_vse_videoBlock_preload_failed_"+f.placement);b=l.getCurrentItem().color;b=e.getVideoHash(b,0,z);c||(c=e.createAiryInstanceForChromeful(a("#ivVideoBlock"),b,z.airyConfig,"ImmersiveView"));S=!0;a("#ivVideoBlock").css({"max-width":1.77*d,margin:"0 auto"});U&&S&&c.play({isAsync:!0})},ia=function(b,c,d){R||r.get(b,"#ivVideoBlock",
k,ca,ba);a("#ivVideoBlockSpinner").addClass("aok-hidden")},ca=function(a,b,c){fa=!0;n()},ba=function(a,b,c){m.postCountMetric("dpcc_vse_videoBlock_lazyload_failed_"+b.pageContext.placement+"_"+b.configuration.type)};return function(a,d,g,m){f=this;z=a;l=d;f.render=function(a,d,f,g,m,n){a=l.getCurrentItem().color;d=e.getVideoHash(a,0,z);u=z.colorToAsin[a]&&z.colorToAsin[a].asin;u=e.isDefined(u)?u:z.mediaAsin;F=null!==z.vseVideoDataSourceTreatment&&"T1"===z.vseVideoDataSourceTreatment?"ASIN":"physicalID";
K=z.contentWeblab;P=z.contentWeblabTreatment;R=!0;-1===d?q.hideTabHeading("ivVideosTabHeading"):(q.unhideTabHeading("ivVideosTabHeading"),k={page:"DetailPage",placement:"ImageBlock",device:"Desktop",marketplaceID:d.marketPlaceID,locale:d.languageCode,product:{contentID:u,contentIDType:"ASIN"},video:{contentID:d.mediaObjectId,contentIDType:F,videoURL:d.url,imageURL:d.slateUrl},requestId:z.dpRequestId,weblabContext:[{name:K,assignment:P,ignoreForG2S2Key:!0}],metadata:{ProductTitle:z.title}},p={videoUrl:k.video.videoURL,
contentId:k.video.contentID,duration:0,vendorCode:"",eventTimestamp:e.isDefined(A)?A:h.now(),imageUrl:k.video.imageURL,productAsin:k.product.contentID,index:0},e.isDefinedAndNotEmpty(c)&&(c.destroy(),c=null),b.get(h,"#ivVideoBlock",k,ia,ga))};f.update=function(a){};q.attachTabSelectHandler("ivVideosTab",y);h.on("vsePlayer-detailpage-imageblock",x);h.on("a:popover:afterShow:immersiveView",N);h.on("a:popover:beforeHide:immersiveView",M)}});"use strict";y.when("A","jQuery","imageBlockUtils","ImageBlockLoader",
"nexusLogger360","postMetric","imageBlockImmersiveViewUtils").register("ImageBlockImmersiveView360",function(h,a,e,m,q,b,r){function g(){var b=a("#iv360Tab").height();A.css("height",b);var c=A.find("#ivTitle360").outerHeight(!0),d=A.find("#ivVariationSelection360").outerHeight(!0),e=A.find("#ivThumbs360"),f=r.getDimension(e,"margin-top")+r.getDimension(e,"margin-bottom");e.css("height",b-c-d-f);b=A.find("#ivStage360");c=A[0]&&A[0].getBoundingClientRect&&Math.floor(A[0].getBoundingClientRect().width)||
A.width();b.css("width",c-r.getDimension(A,"padding-left")-r.getDimension(A,"padding-right")-A.find("#ivThumbColumn360").width()-r.getDimension(b,"margin-left")-r.getDimension(b,"margin-right"))}function n(){O();var a=A.find("#ivLarge360");a.css({opacity:0});setTimeout(function(){a.css({opacity:.4});r.animateStageIn(a)},200);t()}function t(){if(0<V){var a=A.find(".iv360Hint");a.removeClass("iv360HintFaded");a.animate({opacity:1},200)}}function y(c,d){if(V<c.length){var e=a("\x3cimg /\x3e").css({display:"block",
width:6*P+"px",height:Q+"px"});e.hide();d.append(e);e.get(0).onload=function(){d.closest(document.documentElement).length&&(V++,1===V&&(t(),0<ia&&(q.time("dppc_loadTime360",Date.now()-ia,u.mediaAsin),b.postTimeMetric("dppc_loadTime360",Date.now()-ia))),0<ca&&(q.time("dppc_perSpriteloadTime360",Date.now()-ca,u.mediaAsin),b.postTimeMetric("dppc_perSpriteloadTime360",Date.now()-ca)),A.find("#iv360Spinner").hide(),e.show(),ea=5*K.imageLocations[Math.floor(ga/K.imageLocations[0].length)][ga%K.imageLocations[0].length],
y(c,d))};e.attr("src",c[V].replace(/(\._SP)\d+(,)\d+/,"$1"+S+"$2"+R));ca=Date.now()}}function I(a){if(e.isDefined(K.spriteWidthSizes)&&0<K.spriteWidthSizes.length){var b=K.spriteWidthSizes,c=b.length,d=b[0],f=b[c-1];if(a<=d)return d;if(a>f)return f;for(d=0;d<c;d++)if(a>b[d]&&a<=b[d+1])return b[d+1]}else return a}function O(){var b=A.find("#ivLarge360");b.children("#image-360-sprites").length||(b.append("\x3cdiv id\x3d'image-360-sprites'\x3e\x3c/div\x3e"),b.css({"margin-left":0,"margin-top":0,width:b.parent().width(),
height:b.parent().height(),overflow:"hidden",position:"relative","-ms-user-select":"none","-webkit-user-select":"none","-mos-user-select":"none"}),a("\x3cimg\x3e").attr("src",u.staticImages.spinnerNoLabel).attr("id","iv360Spinner").css({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:"block"}).appendTo(b),W=!0,x())}function x(){if(e.isDefined(K.spriteURLs)&&e.isDefined(A)&&W&&!Y){var b=A.find("#ivLarge360"),c=a("\x3cdiv\x3e").addClass("iv360Hint").css({position:"absolute",
width:"100%",bottom:0,opacity:0,display:"block"});e.isDefined(K.staticImages.hint360)&&a("\x3cimg\x3e").css({"margin-left":"auto","margin-right":"auto",display:"block"}).attr("src",K.staticImages.hint360).appendTo(c);a("\x3cdiv\x3e").css({"text-align":"center"}).text(u.staticStrings.dragToSpin).appendTo(c);c.appendTo(b);var c=K.imageWidth,d=K.imageHeight,g=b.parent().width(),h=b.parent().height(),k=0,l=0;c/d>g/h?(S=I(g),R=Math.round(d/c*S),P=Math.ceil(g),Q=Math.ceil(R/S*g),l=(h-Q)/2):(R=I(h),S=Math.round(c/
d*R),Q=Math.ceil(h),P=Math.ceil(S/R*h),k=(g-P)/2);b.css({"margin-left":k,"margin-top":l,width:P+"px",height:Q+"px",overflow:"hidden",position:"relative"});b.children("#image-360-sprites").css("width",6*P+"px");y(K.spriteURLs,A.find("#image-360-sprites"),0);c=A.find("#ivLarge360");c.bind("mousedown",J);c.bind("touchstart",H);c.bind("touchmove",M);c.bind("touchend",N);a(document).bind("mousemove",f);a(document).bind("mouseup",z);e.isDefined(u.staticImages.grab)&&b.css("cursor","url('"+u.staticImages.grab+
"'), auto");Y=!0}}function H(a){D=!0;U=a.originalEvent.targetTouches[0].clientX}function M(a){D&&(l(a.originalEvent.targetTouches[0].clientX-U),U=a.originalEvent.targetTouches[0].clientX)}function N(a){D&&(D=!1)}function J(a){ba=!0;fa=a.originalEvent.clientX;e.isDefined(u.staticImages.grabbing)&&(a=A.find("#ivLarge360"),a.css("cursor","url('"+u.staticImages.grabbing+"'), auto"),a.parents(".a-declarative").last().css("cursor","url('"+u.staticImages.grabbing+"'), auto"));return!1}function f(a){ba&&
(l(a.originalEvent.clientX-fa),fa=a.originalEvent.clientX)}function z(a){ba&&(ba=!1,e.isDefined(u.staticImages.grab)&&(a=A.find("#ivLarge360"),a.css("cursor","url('"+u.staticImages.grab+"'), auto"),a.parents(".a-declarative").last().css("cursor","auto")))}function l(a){ea-=a/P*180;X&&(q.count("dppc_360dragToSpin",u.mediaAsin),b.postCountMetric("dppc_360dragToSpin"));X=!1;for(a=ea;0>a;)a+=360;for(;360<a;)a-=360;ea=a;var c;a=360;for(var d=0;d<V;d++)for(var f=0;f<K.imageLocations[d].length;f++){var g=
Math.abs(ea-5*K.imageLocations[d][f]);g<a&&(a=g,c=d*K.imageLocations[0].length+f)}c!==ga&&(a=Math.floor(c/K.imageLocations[0].length),a!==Math.floor(ga/K.imageLocations[0].length)&&(e.isDefined(ka)||(ka=document.createElement("canvas").getContext("2d")),d=A.find("#image-360-sprites").children(),ka.drawImage(d[a],0,0)),a=A.find(".iv360Hint").not(".iv360HintFaded"),e.isDefined(a)&&(a.addClass("iv360HintFaded"),a.animate({opacity:0},750)));ga=c;a=c%K.imageLocations[0].length*-1*P;c=-1*Math.floor(c/K.imageLocations[0].length)*
Q;d=A.find("#ivLarge360").children("#image-360-sprites");d.css("-webkit-transform","translate3d("+a+"px, "+c+"px, 0)");d.css("transform","translate3d("+a+"px, "+c+"px, 0)")}function k(){if(ha){A=a("#ivMain360");var c=F.getCurrentItem().color;E()&&d(c);K=E()?u.spin360ColorData[c]:void 0;r.populateTitle(A.find("#ivTitle360"),160,u);r.populateVariationSelection(A.find("#ivVariationSelection360"));A.find("#ivLarge360").empty();V=0;Y=W=!1;ga=ea=0;la();ha=!1}0!==a("#iv360Tab").height()&&(r.detachImmersiveViewResizeHandler(k),
g(),n(),ia=Date.now(),v=X=!0,q.count("dppc_click360",u.mediaAsin),b.postCountMetric("dppc_click360"))}function p(c,d,f){var g=u.colorToAsin[f],h={},k=500;if(!g||!g.asin)if(f===u.defaultColor)g={asin:u.winningAsin};else return;h.params={asin:g.asin};var l="360"+g.asin,n=Date.now();h.success=function(g){q.time("dppc_asyncRequestTime360",Date.now()-n,u.mediaAsin);b.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);if(g&&e.isDefined(g.spin360)){if(g=g.spin360.spin360Model)u.spin360ColorData[f]=
g,f===F.getCurrentItem().color&&(K=u.spin360ColorData[f],x(),a("#ivThumbs360").hide(),r.unhideTabHeading("iv360TabHeading"),w(c,d,f));e.ajaxState(l,"success")}else h.error()};h.error=function(){q.count("dppc_asyncFailedTransient360",u.mediaAsin);b.postCountMetric("dppc_asyncFailedTransient360");q.time("dppc_asyncRequestTime360",Date.now()-n,u.mediaAsin);b.postTimeMetric("dppc_asyncRequestTime360",Date.now()-n);k*=2;16E3>=k?setTimeout(function(){n=Date.now();m.load("/gp/product/features/apparel-main-image/360.html",
h)},k):(q.count("dppc_asyncFailed360",u.mediaAsin),b.postCountMetric("dppc_asyncFailed360"),e.ajaxState(l,"fail"))};e.ajaxState(l)&&"fail"!==e.ajaxState(l)||(m.load("/gp/product/features/apparel-main-image/360.html",h),e.ajaxState(l,"sent"))}function w(a,c,f){if(e.isImmersiveViewEnabled(u,F.getCurrentItem().color)&&E()&&d(f)){if(c===u.maxAlts){f=a.find(".item.imageThumbnail");var g=a.find(".item.videoThumbnail");e.isDefined(g)&&1<g.length?g.last().remove():f.last().remove();c--}f=a.find(".360IngressTemplate").clone().removeClass("360IngressTemplate").removeClass("aok-hidden").addClass("item");
h.declarative.create(f,"button-360-click");a.append(f);c++;q.count("dppc_display360",u.mediaAsin);b.postCountMetric("dppc_display360")}return c}function E(){return u&&e.isDefined(u.spin360ConfigEnabled)&&u.spin360ConfigEnabled}function d(a){return e.isDefinedAndNotEmpty(u.spin360ColorData[a])?!0:e.isDefined(u.spin360LazyLoadEnabled)&&u.spin360LazyLoadEnabled}function c(){v&&(q.time("dppc_duration360",Date.now()-ia,u.mediaAsin),b.postTimeMetric("dppc_duration360",Date.now()-ia),v=!1)}var G,u,F,A,K,
P,Q,R,S,fa,U,W=!1,Y=!1,ea=0,ga=0,ia=0,ca=0,ba=!1,D=!1,V=0,ka,X=!0,v=!1,ha=!0,la=h.once(function(){r.attachImmersiveViewResizeHandler(k);r.attachImmersiveViewResizeHandler(g);r.attachImmersiveViewResetHandler(c);r.attachTabDeselectHandler("iv360Tab",c)});return function(b,c,f,g){G=this;u=b;F=c;b=u.landingAsinColor;c=u.defaultColor;e.isDefined(u.staticImages.icon360)&&a("#imageBlock #altImages ul").find(".360IngressTemplate").find("img").attr("src",r.addStyleCodeToURL(u.staticImages.icon360,"_FMpng_RI_"));
E()&&(u.spin360ColorData||(u.spin360ColorData={}),b===c&&e.isDefinedAndEmpty(u.spin360ColorData[c])&&delete u.spin360ColorData[c]);G.render=function(b,c,f,g,h,k){ha=!0;E()&&d(b)?(f=u.spin360ColorData[b],e.isDefinedAndEmpty(f)?r.hideTabHeading("iv360TabHeading"):e.isDefinedAndNotEmpty(f)?(a("#ivThumbs360").hide(),r.unhideTabHeading("iv360TabHeading"),w(g,c,b)):(u.spin360ColorData[b]={},r.hideTabHeading("iv360TabHeading"),p(g,c,b))):r.hideTabHeading("iv360TabHeading")};G.update=function(a){};r.attachTabSelectHandler("iv360Tab",
k)}});y.register("nexusLogger360",function(){return{count:function(h,a){t.ue&&t.ue.event({asin:a,metricName:h,metricValue:1},"hit-360","hit360.clientEvent.3")},time:function(h,a,e){t.ue&&t.ue.event({asin:e,metricName:h,metricValue:a},"hit-360","hit360.clientEvent.3")}}});"use strict";y.when("postMetric","imageBlockImmersiveViewUtils").execute("vse-ns-ajax-calls",function(h,a){try{var e=t.location.host,m={dub:"https://www.amazon.co.uk/vap/ew/",pdx:"https://www.amazon.co.jp/vap/ew/"},q=e.split(".")[1],
b=-1===e.indexOf(".proxy.amazon.com")?"/vap/ew/":void 0!==m[q]?m[q]:"https://www.amazon.com/vap/ew/",r="vse_lazyLoaderHook:success:",g="vse_lazyLoaderHook:error:",n="vse_preLoaderHook:success:",B="vse_preLoaderHook:error:",C="vse_lightPlayerLoaderHook:success:",I="vse_lightPlayerLoaderHook:error:",O=4E3,x=3}catch(H){a.logError("FATAL","vse_ns_desktop","[Domain] ",H)}y.register("vse_ns_preLoaderHook",function(){function e(g,m){try{var f=g.A,q=g.block,l=g.request,k=g.handleFailure,p=g.handleSuccess,
r=f.$;m--;var t=x-m-1,d=f.now();f.ajax(b+"componentbuilder",{params:l,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:l.timeout||O,withCredentials:!0,success:function(a){var b=f.now()-d;h.postTimeMetric(n,b);h.postCountMetric(n+l.page+":"+l.placement+":"+t);r(q).html(a);p(f,l,a)},error:function(a){h.postCountMetric(B+l.page+":"+l.placement+":"+t);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<m?e(g,m):(h.postCountMetric(B,1),k(f,l,a))}})}catch(c){a.logError("FATAL",
"vse_ns_desktop","[vse_ns_preLoaderHook] ",c)}}return{get:function(a,b,f,g,h){e({A:a,block:b,request:f,handleFailure:h,handleSuccess:g},x)}}});y.register("vse_ns_lazyLoaderHook",function(){function e(m,n,f){try{var q=m.A,l=m.context,k=m.handleFailure,p=m.handleSuccess;n.attr("data-configuration");var t=atob(n.attr("data-configuration")),y=JSON.parse(t),d={pageContext:l,configuration:y},c=q.now();f--;var B=x-f-1;q.ajax(b+"subcomponent/"+y.type,{params:d,paramsFormat:"json",method:"post",contentType:"application/json",
timeout:l.timeout||O,withCredentials:!0,success:function(a){var b=q.now()-c;h.postTimeMetric(r,b);h.postCountMetric(r+l.page+":"+l.placement+":"+y.type+":"+B);n.html(a);p(q,d,a)},error:function(a){h.postCountMetric(g+l.page+":"+l.placement+":"+y.type+":"+B);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<f?e(m,n,f):(h.postCountMetric(g,1),k(q,d,a))}})}catch(u){a.logError("FATAL","vse_ns_desktop","[vse_ns_lazyLoaderHook] ",u)}}return{get:function(a,b,f,g,h){var k=a.$;k(b+" div[data-configuration]").each(function(){e({A:a,
context:f,handleFailure:h,handleSuccess:g},k(this),x)})}}});y.register("vse_ns_videoPlayer",function(){function e(g,m,f){try{var n=g.A,l=g.block,k=g.request,p=g.handleFailure,q=g.handleSuccess,r=n.$;f--;var d=x-f-1,c=n.now();n.ajax(b+"subcomponent/lightvideoplayer",{params:k,paramsFormat:"json",crossDomain:!0,method:"post",contentType:"application/json",timeout:k.timeout||O,withCredentials:!0,success:function(a){var b=n.now()-c;h.postTimeMetric(C,b);h.postCountMetric(C+k.page+":"+k.placement+":"+
d);r(l).html(a);q(n,k,a)},error:function(a){h.postCountMetric(I+k.page+":"+k.placement+":"+d);(0===a.http.status||500<=a.http.status&&599>=a.http.status)&&0<f?e(g,f):(h.postCountMetric(I,1),p(n,k,a))}})}catch(t){a.logError("FATAL","vse_ns_lightPlayer","[vse_ns_lightPlayerLoaderHook] ",t)}}return{get:function(a,b,f,g,h){e({A:a,block:b,request:f,handleFailure:h,handleSuccess:g},x)}}})});"use strict";y.when("A","ImageBlockATF","ImageBlockBTF","imageBlockUtils","postMetric").execute(function(h,a,e,m,
q){var b=[0,50,100,500,1E3,2E3,3E3,3500];(function(){var a=e.colorImages,g=0,h;for(h in a)a[h]&&a[h].length&&(g+=a[h].length);a="image_size_bucket:gt"+b[b.length-1];for(h=1;h<b.length;h++)if(g<=b[h]){a="image_size_bucket:"+b[h-1]+"-"+b[h];break}q.postCountMetric(a);m.addTag(a)})();(function(){var b=a.colorImages;b&&b.initial&&b.initial.length&&(b=b.initial.length,t.ue&&ue.count&&ue.count("altImageCount",b))})();(function(){var a=e.lazyLoadExperienceDisabled;m.isDefined(e.lazyLoadExperienceDisabled)&&
!a&&(q.postCountMetric("lazyLoadingExperienceOnTwisterUpdateEnabled"),m.addTag("lazyLoadingExperienceOnTwisterUpdateEnabled"))})()})});